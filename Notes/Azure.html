<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style.css" />
    <title>Azure Notes - Interview Master List</title>
  </head>
  <body>
    <h1>üî∑ Azure</h1>

    <!-- SECTION 0: Azure Architecture & Implementation Reference -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 0 ‚Äî Azure Architecture & Implementation
          </div>
          <div class="section-description">
            Quick reference guide for complete Azure architecture
          </div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <!-- REFERENCE BLOCK 1 -->
        <div class="reference-block">
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            1. FRONTEND HOSTING ‚Äì AZURE STATIC WEB APPS
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Managed service to host frontend applications (Angular, React,
              Vue) with global CDN and automatic HTTPS.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Automatic HTTPS</li>
              <li>Global CDN</li>
              <li>CI/CD integration</li>
              <li>Easy deployment</li>
              <li>Secure frontend hosting</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Build Angular project ‚Üí generates dist/ folder</li>
              <li>2. Azure Portal ‚Üí Create Static Web App</li>
              <li>3. Connect GitHub or Azure DevOps repository</li>
              <li>
                4. Configure build settings: App location: /, Output location:
                dist/project-name
              </li>
              <li>5. Deploy automatically using CI/CD pipeline</li>
              <li>6. Configure environment.prod.ts with API base URL</li>
              <li>
                7. Enable CORS in backend to allow requests from UI domain
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FLOW:</strong>
            <p>User Browser ‚Üí Static Web App ‚Üí Backend API</p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 2 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            2. BACKEND HOSTING ‚Äì AZURE APP SERVICE
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Fully managed hosting platform for web apps and APIs. Supports
              .NET, Node.js, Java, and other runtimes with automatic scaling.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Fully managed runtime</li>
              <li>Automatic scaling</li>
              <li>Easy deployment</li>
              <li>Integrated monitoring</li>
              <li>Supports multiple frameworks</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">APP SERVICE PLAN:</strong>
            <p>
              Defines compute resources: CPU, RAM, pricing tier, and scaling
              rules. Multiple APIs can share the same App Service Plan.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Publish .NET API ‚Üí creates publish folder</li>
              <li>2. Azure Portal ‚Üí Create App Service</li>
              <li>3. Select runtime (.NET, Node.js, etc.)</li>
              <li>
                4. Deploy using: Azure DevOps Pipeline, Zip Deploy, or Visual
                Studio Publish
              </li>
              <li>5. Enable HTTPS only in security settings</li>
              <li>6. Configure scaling rules if required</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50"
              >CONFIGURATION SOURCES (Priority Order):</strong
            >
            <ul>
              <li>
                1. Environment Variables (highest priority - override
                everything)
              </li>
              <li>2. App Service ‚Üí Configuration</li>
              <li>3. appsettings.json (lowest priority)</li>
            </ul>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üñ•Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 3 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            3. DATABASE ‚Äì AZURE SQL DATABASE
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Managed cloud SQL Server database with automatic backups, high
              availability, and auto-patching.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Managed backups</li>
              <li>High availability</li>
              <li>Automatic patching</li>
              <li>Scaling support</li>
              <li>Reduced maintenance overhead</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Export local database as .bacpac file</li>
              <li>2. Azure Portal ‚Üí Create Azure SQL Database</li>
              <li>
                3. Import .bacpac file using: Azure Portal import or SSMS ‚Üí
                Import Data-tier Application
              </li>
            </ul>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üóÑÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 4 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            4. SECRETS MANAGEMENT ‚Äì AZURE KEY VAULT + MANAGED IDENTITY
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Secure storage for secrets (connection strings, API keys) with
              centralized management and role-based access control.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>No secrets in code</li>
              <li>Centralized secret management</li>
              <li>Secure access control</li>
              <li>Audit logging</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Create Azure Key Vault in Portal</li>
              <li>2. Add secrets (connection strings, API keys)</li>
              <li>3. Enable Managed Identity on App Service</li>
              <li>
                4. In Key Vault, assign access role to the App Service's Managed
                Identity
              </li>
              <li>
                5. In App Service Configuration, reference secrets using Key
                Vault connection string
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FLOW:</strong>
            <p>
              Managed Identity (enabled) ‚Üí Key Vault access role ‚Üí App Service
              reads secrets securely ‚Üí No hardcoded secrets
            </p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 5 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            5. API GATEWAY ‚Äì AZURE API MANAGEMENT (APIM)
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Gateway service in front of microservices providing centralized
              security, rate limiting, JWT validation, and API versioning.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Centralized security policies</li>
              <li>Rate limiting</li>
              <li>JWT validation</li>
              <li>API versioning</li>
              <li>Comprehensive logging and monitoring</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Create APIM service in Azure Portal</li>
              <li>2. Add backend APIs to APIM</li>
              <li>
                3. Configure XML policies: validate-jwt, rate-limit-by-key, CORS
                policy
              </li>
              <li>
                4. Configure API versioning (path-based preferred: /v1/, /v2/)
              </li>
              <li>
                5. Update Angular frontend to call APIM endpoint instead of
                direct API
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FLOW:</strong>
            <p>Angular ‚Üí APIM Gateway ‚Üí Microservices</p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öñÔ∏è</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 6 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            6. MONITORING ‚Äì APPLICATION INSIGHTS
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Azure monitoring service for tracking application performance,
              errors, dependencies, and custom metrics across backend and
              frontend.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Track performance metrics</li>
              <li>Monitor errors and exceptions</li>
              <li>Track SQL and external API calls</li>
              <li>Create actionable alerts</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >BACKEND (.NET API)</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >HOW TO ENABLE:</strong
            >
            <ul>
              <li>
                Option 1: Turn on Application Insights in App Service settings
              </li>
              <li>
                Option 2: Install NuGet:
                Microsoft.ApplicationInsights.AspNetCore, Add:
                builder.Services.AddApplicationInsightsTelemetry();
              </li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >TRACKS:</strong
            >
            <ul>
              <li>API requests and response times</li>
              <li>Exceptions and errors</li>
              <li>SQL database calls and performance</li>
              <li>External API dependencies</li>
              <li>Custom logs via ILogger</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >FRONTEND (Angular)</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >HOW TO ENABLE:</strong
            >
            <ul>
              <li>Install npm: @microsoft/applicationinsights-web</li>
              <li>Add Application Insights connection string</li>
              <li>Enable automatic route tracking</li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >TRACKS:</strong
            >
            <ul>
              <li>Page views and navigation</li>
              <li>JavaScript errors</li>
              <li>Performance metrics</li>
              <li>Custom user events</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">LOG ANALYSIS:</strong>
            <p>
              Azure Portal ‚Üí Application Insights ‚Üí Logs. Query using KQL:
              requests, exceptions, pageViews, dependencies
            </p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 7 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            7. CI/CD ‚Äì AZURE DEVOPS PIPELINES
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Automated system to build, test, and deploy applications with
              environment separation (Dev/QA/Prod).
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Automated builds</li>
              <li>Faster deployments</li>
              <li>Consistent releases</li>
              <li>Environment separation</li>
              <li>Reduces manual errors</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >CONTINUOUS INTEGRATION (CI)</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >PURPOSE:</strong
            >
            <p>
              Automatically build, test, and validate code when changes are
              pushed to repository.
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >TRIGGER:</strong
            >
            <p>
              Code push to repository ‚Üí YAML pipeline automatically triggers
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >YAML PIPELINE INCLUDES:</strong
            >
            <ul>
              <li>Pull latest code from repository</li>
              <li>Restore NuGet packages / npm packages</li>
              <li>Build project</li>
              <li>Run unit tests</li>
              <li>Create Docker image from Dockerfile</li>
              <li>
                Push Docker image to container registry (ACR / Docker Hub)
              </li>
              <li>Push build artifacts to artifact store</li>
              <li>Run code quality checks</li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >OUTPUT:</strong
            >
            <p>Build artifact (compiled code ready for deployment)</p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >CONTINUOUS DEPLOYMENT (CD)</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >PURPOSE:</strong
            >
            <p>Deploy built artifact to Azure environments automatically.</p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >MY PROJECT DEPLOYMENT PROCESS:</strong
            >
            <p>
              Select Release ‚Üí Select Pipeline ‚Üí Choose Build Version ‚Üí Select
              Environments ‚Üí Automatically deploy
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >DEPLOYMENT STEPS:</strong
            >
            <ul>
              <li>1. Take build artifact from CI pipeline</li>
              <li>2. Deploy to App Service (.NET API)</li>
              <li>3. Deploy to Static Web Apps (Angular)</li>
              <li>4. Verify deployment in target environment</li>
              <li>5. Run smoke tests to confirm deployment success</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">ARTIFACTS:</strong>
            <p>
              Compiled output used for deployment: Angular ‚Üí dist/ folder, .NET
              API ‚Üí publish/ folder. Build once ‚Üí Deploy same artifact to all
              environments
            </p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">SECRETS MANAGEMENT:</strong>
            <p>
              Never hardcode secrets. Store using: Pipeline Variables (marked as
              secret), Variable Groups, Azure Key Vault integration
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FLOW:</strong>
            <p>
              Developer Pushes Code ‚Üí CI Pipeline (Build + Test + Artifact) ‚Üí CD
              Pipeline (Deploy to Azure)
            </p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üöÄ</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 8 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            8. AZURE STORAGE ACCOUNT
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Main container for data services including: Blob Storage, Queue
              Storage, Table Storage, File Storage
            </p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >BLOB STORAGE</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >WHAT IT IS:</strong
            >
            <p>
              Object storage for files (images, PDFs, videos, documents) with
              scalable and reliable storage.
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >WHY USE IT:</strong
            >
            <ul>
              <li>Store and serve files at scale</li>
              <li>Separate file storage from database</li>
              <li>Cost-effective for large files</li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >CONTAINER TYPES:</strong
            >
            <ul>
              <li>Private (recommended) ‚Äì requires authentication</li>
              <li>
                Public Blob ‚Äì individual blob accessible without authentication
              </li>
              <li>
                Public Container ‚Äì all blobs accessible without authentication
              </li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >UPLOAD FLOW:</strong
            >
            <p>
              Angular ‚Üí API Endpoint ‚Üí Upload to Blob Storage ‚Üí Save metadata in
              SQL
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >DOWNLOAD FLOW:</strong
            >
            <p>
              Angular ‚Üí Send fileId to API ‚Üí API generates SAS URL ‚Üí Angular
              downloads directly from Blob
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >SAS URL:</strong
            >
            <p>
              Temporary secure access token for limited-time access without
              exposing storage keys.
            </p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >AZURE QUEUE STORAGE</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >WHAT IT IS:</strong
            >
            <p>
              A simple service in Azure used to store messages so different
              parts of an application can communicate with each other without
              waiting.
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >WHY USE IT:</strong
            >
            <ul>
              <li>Background processing</li>
              <li>Decouple services</li>
              <li>Avoid long API wait times</li>
              <li>Asynchronous task processing</li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >FLOW:</strong
            >
            <p>
              User ‚Üí API (Upload Blob) ‚Üí API sends message to Queue ‚Üí Azure
              Function listens (auto-triggered) ‚Üí Process message
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >FAILURE HANDLING:</strong
            >
            <ul>
              <li>Automatic retry for failed messages</li>
              <li>After max retries ‚Üí message sent to Poison Queue</li>
            </ul>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìÅ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚òÅÔ∏è</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 9 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            9. AZURE FUNCTIONS
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              A serverless service in Azure that runs your code automatically
              when an event happens, without needing to manage servers.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Event-driven processing</li>
              <li>No server management</li>
              <li>Automatic scaling</li>
              <li>Pay only for execution time</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">TRIGGER TYPES:</strong>
            <ul>
              <li>Queue Trigger ‚Äì triggered by message in Queue Storage</li>
              <li>Service Bus Trigger ‚Äì triggered by Service Bus message</li>
              <li>HTTP Trigger ‚Äì triggered by HTTP request</li>
              <li>Timer Trigger ‚Äì triggered on schedule (Cron expression)</li>
              <li>Blob Trigger ‚Äì triggered when file uploaded/modified</li>
              <li>
                Durable Function Triggers: Durable Client Trigger, Orchestration
                Trigger, Activity Trigger
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50; display: block; margin-bottom: 10px"
              >SECURITY (HTTP Trigger Authorization)</strong
            >
            <strong style="color: #333; display: block; margin-bottom: 5px"
              >WHAT IT IS:</strong
            >
            <p>
              Function Key is used to protect HTTP-triggered Azure Functions
              from unauthorized access. It acts like an API password and ensures
              only authorized users can call the function.
            </p>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >Function Key can be passed via:</strong
            >
            <ul>
              <li>Query string ‚Üí ?code=FUNCTION_KEY</li>
              <li>Header ‚Üí x-functions-key: FUNCTION_KEY</li>
            </ul>
            <strong style="color: #333; display: block; margin: 10px 0 5px 0"
              >Authorization Types:</strong
            >
            <ul>
              <li>Anonymous ‚Äì No key required</li>
              <li>Function ‚Äì Requires Function Key (API key security)</li>
              <li>Admin ‚Äì Requires Master Key (full access)</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FAILURE HANDLING:</strong>
            <ul>
              <li>Automatic retry on failure</li>
              <li>Poison queue handling after max retries</li>
            </ul>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîß</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 10 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            10. AZURE SERVICE BUS
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              A messaging service in Azure that helps different applications or
              services communicate with each other in a reliable way.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Reliable communication between microservices</li>
              <li>Microservice decoupling</li>
              <li>Advanced messaging scenarios</li>
              <li>Guaranteed delivery</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">TYPES:</strong>
            <ul>
              <li>Queue (1-to-1) ‚Äì one sender, one receiver</li>
              <li>Topic (1-to-many) ‚Äì one sender, multiple subscribers</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">FEATURES:</strong>
            <ul>
              <li>Dead Letter Queue (DLQ) ‚Äì stores failed messages</li>
              <li>Message Ordering ‚Äì guarantees order of processing</li>
              <li>Retry Mechanism ‚Äì automatic retry with backoff</li>
              <li>Transactions ‚Äì atomic operations across messages</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">NOTE:</strong>
            <p>Often used with Azure Function Service Bus Trigger.</p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 11 -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            11. AZURE REDIS CACHE
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              A fast in-memory caching service in Azure that stores frequently
              used data to improve application speed.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Reduce database load</li>
              <li>Improve API response times</li>
              <li>Cache frequently accessed data</li>
              <li>Session storage</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>1. Create Azure Cache for Redis in Portal</li>
              <li>
                2. Install Redis client package in .NET API
                (StackExchange.Redis)
              </li>
              <li>3. In API endpoint: check cache first</li>
              <li>
                4. If cache miss ‚Üí fetch from database ‚Üí store in Redis ‚Üí return
                data
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">CACHE HIT FLOW:</strong>
            <p>Angular ‚Üí API (check Redis) ‚Üí Found ‚Üí Return cached data</p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">CACHE MISS FLOW:</strong>
            <p>
              Angular ‚Üí API (check Redis) ‚Üí Not found ‚Üí Query Database ‚Üí Save in
              Redis ‚Üí Return data
            </p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
          </div>
        </div>

        <!-- COMPLETE ARCHITECTURE FLOW -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: -15px -15px 15px -15px;
              border-radius: 4px;
            "
          >
            COMPLETE ARCHITECTURE FLOW
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">MAIN REQUEST FLOW:</strong>
            <p>
              Angular (Static Web App) ‚Üí APIM ‚Üí App Services (Microservices) ‚Üí
              Redis (Cache) ‚Üí Azure SQL Database
            </p>
            <p style="margin: 8px 0 0 0; font-size: 12px; color: #666">
              (Cache Hit ‚Üí Return from Redis | Cache Miss ‚Üí Fetch from SQL ‚Üí
              Store in Redis ‚Üí Return)
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50"
              >FILE & BACKGROUND PROCESSING FLOW:</strong
            >
            <p>
              Angular ‚Üí API ‚Üí Blob Storage (+ SQL Metadata) ‚Üí Queue / Service
              Bus ‚Üí Azure Function ‚Üí Update SQL / Blob ‚Üí Invalidate Redis
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">MONITORING:</strong>
            <p>
              Application Insights ‚Üí Monitors Angular + APIM + App Services +
              Azure Functions + SQL + Dependencies
            </p>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üèóÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <!-- REFERENCE BLOCK 12 - AZURE ACTIVE DIRECTORY -->
        <div
          class="reference-block"
          style="
            border-top: 1px solid #ddd;
            padding-top: 20px;
            margin-top: 20px;
          "
        >
          <h3
            style="
              background: #4a4a4a;
              color: white;
              padding: 10px;
              margin: 0 0 15px 0;
              border-radius: 4px;
            "
          >
            12. AZURE ACTIVE DIRECTORY (MICROSOFT ENTRA ID)
          </h3>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHAT IT IS:</strong>
            <p>
              Cloud-based identity and access management service used to
              authenticate users and secure applications using JWT tokens.
            </p>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">WHY USE IT:</strong>
            <ul>
              <li>Secure authentication (Login system)</li>
              <li>Centralized identity management</li>
              <li>Single Sign-On (SSO)</li>
              <li>Role-based access control</li>
              <li>Secure APIs using JWT tokens</li>
              <li>Enterprise-grade security (MFA, Conditional Access)</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">STEPS TO IMPLEMENT:</strong>
            <ul>
              <li>
                <strong
                  >1. Register Backend API in Azure AD (App
                  Registration).</strong
                >
                <ul>
                  <li>Copy Tenant ID and API Client ID.</li>
                </ul>
              </li>
              <li>
                <strong>2. Expose API in backend App Registration.</strong>
                <ul>
                  <li>
                    Set Application ID URI ‚Üí
                    <code>api://&lt;API_CLIENT_ID&gt;</code>
                  </li>
                  <li>Create scope (e.g., <code>access_as_user</code>).</li>
                </ul>
              </li>
              <li>
                <strong
                  >3. Register Angular application in Azure AD (SPA App
                  Registration).</strong
                >
                <ul>
                  <li>Copy Angular Client ID.</li>
                  <li>
                    Add Redirect URI (e.g.,
                    <code>http://localhost:4200/</code>).
                  </li>
                </ul>
              </li>
              <li>
                <strong
                  >4. Grant Angular permission to access API scope.</strong
                >
                <ul>
                  <li>
                    API Permissions ‚Üí Add permission ‚Üí Select API ‚Üí Select
                    scope.
                  </li>
                  <li>Grant admin consent.</li>
                </ul>
              </li>
              <li>
                <strong>5. Configure JWT authentication in .NET API.</strong>
                <ul>
                  <li>Use Tenant ID and API Client ID (Audience).</li>
                  <li>
                    Configure <code>AddJwtBearer()</code> in
                    <code>Program.cs</code>.
                  </li>
                  <li>Protect endpoints using <code>[Authorize]</code>.</li>
                </ul>
              </li>
              <li>
                <strong>6. Use MSAL in Angular to authenticate user.</strong>
                <ul>
                  <li>Provide Tenant ID and Angular Client ID.</li>
                  <li>
                    Request scope
                    <code>api://&lt;API_CLIENT_ID&gt;/access_as_user</code>.
                  </li>
                </ul>
              </li>
              <li>
                <strong>7. Send Access Token in API request header:</strong>
                <code>Authorization: Bearer &lt;access_token&gt;</code>
              </li>
            </ul>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">AUTHENTICATION FLOW:</strong>
            <p>User ‚Üí Angular ‚Üí Azure AD Login ‚Üí JWT Access Token Issued</p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">API AUTHORIZATION FLOW:</strong>
            <p>
              Angular ‚Üí API (Authorization: Bearer token) ‚Üí API validates token
              ‚Üí Return secure data
            </p>
          </div>

          <div style="margin-bottom: 20px">
            <strong style="color: #2c3e50">TOKEN TYPES:</strong>
            <ul>
              <li>
                <strong>ID Token</strong> ‚Äì Used for user authentication
                (frontend).
              </li>
              <li><strong>Access Token</strong> ‚Äì Used to call secured API.</li>
            </ul>
          </div>

          <div style="margin-bottom: 15px">
            <strong style="color: #2c3e50">SECURITY FEATURES:</strong>
            <ul>
              <li>Token expiration validation</li>
              <li>Digital signature verification</li>
              <li>
                Role-based authorization
                (<code>[Authorize(Roles="Admin")]</code>)
              </li>
              <li>Multi-Factor Authentication (MFA) support</li>
            </ul>
          </div>

          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 1: Azure App Service -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 1 ‚Äî Azure App Service (Compute Layer)
          </div>
          <div class="section-description">
            First understand where your API runs
          </div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <!-- Q1 -->
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure App Service
            for a .NET API.
          </div>
          <div class="answer">
            <p><strong>Simple Flow:</strong></p>
            <ul>
              <li>You write your .NET API code locally</li>
              <li>You deploy it to Azure App Service (managed hosting)</li>
              <li>Azure automatically manages servers, patches, scaling</li>
              <li>Your API is now accessible via a URL</li>
            </ul>
            <p><strong>Step-by-step:</strong></p>
            <ul>
              <li>
                Create App Service Plan (choose tier: Free, Basic, Standard,
                Premium)
              </li>
              <li>Create Web App in the plan</li>
              <li>
                Deploy .NET API using Visual Studio, CLI, or CI/CD pipeline
              </li>
              <li>Configure settings (connection strings, app settings)</li>
              <li>Your API is live!</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì±</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîß</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚òÅÔ∏è</a
            >
          </div>
        </div>

        <!-- Q2 -->
        <div class="qa-item">
          <div class="question">Q: What is an App Service Plan?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> A set of compute resources that your
              Web App runs on. Like choosing a package for your app.
            </p>
            <p><strong>Tiers (from cheapest to expensive):</strong></p>
            <ul>
              <li>
                <strong>Free:</strong> Shared infrastructure, limited resources,
                for testing only
              </li>
              <li>
                <strong>Basic:</strong> Dedicated resources, no auto-scale, good
                for dev
              </li>
              <li>
                <strong>Standard:</strong> Auto-scale, staging slots, daily
                backups
              </li>
              <li>
                <strong>Premium:</strong> Advanced features, isolated
                infrastructure
              </li>
            </ul>
            <p>
              <strong>Key Point:</strong> Multiple apps can share same plan to
              save cost.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üí∞</a
            >
          </div>
        </div>

        <!-- Q3 -->
        <div class="qa-item">
          <div class="question">
            Q: What is the difference between scaling up and scaling out?
          </div>
          <div class="answer">
            <p>
              <strong>Scaling Up (Vertical):</strong> Make existing machine more
              powerful
            </p>
            <ul>
              <li>Upgrade from Standard to Premium plan</li>
              <li>More CPU, RAM per machine</li>
              <li>Can cause downtime during upgrade</li>
              <li>There's a limit (you can't scale forever)</li>
            </ul>
            <p><strong>Scaling Out (Horizontal):</strong> Add more machines</p>
            <ul>
              <li>Same plan tier, but more instances</li>
              <li>Distribute load across multiple servers</li>
              <li>No downtime</li>
              <li>Better for handling traffic spikes</li>
            </ul>
            <p>
              <strong>Interview Tip:</strong> For APIs, prefer scaling out with
              load balancer.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öñÔ∏è</a
            >
          </div>
        </div>

        <!-- Q4 -->
        <div class="qa-item">
          <div class="question">Q: How does Auto-scaling work?</div>
          <div class="answer">
            <p>
              <strong>Concept:</strong> Automatically add/remove instances based
              on load.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Monitor metrics (CPU, Memory, Request count)</li>
              <li>If CPU > 70%, add 1 instance</li>
              <li>If CPU < 20% for 5 minutes, remove 1 instance</li>
              <li>Set min/max instance limits</li>
            </ul>
            <p><strong>Steps to configure:</strong></p>
            <ul>
              <li>Go to App Service ‚Üí Scale out ‚Üí Create auto-scale rule</li>
              <li>Set metric threshold and actions</li>
              <li>Enable (must be Standard plan or above)</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <!-- Q5 -->
        <div class="qa-item">
          <div class="question">
            Q: What is Always On and when should you enable it?
          </div>
          <div class="answer">
            <p>
              <strong>What it does:</strong> Keeps your app running even if no
              requests come in for 20 minutes.
            </p>
            <p>
              <strong>Without Always On:</strong> App goes to sleep ‚Üí next
              request takes time to wake up (cold start).
            </p>
            <p><strong>When to enable:</strong></p>
            <ul>
              <li>Production APIs that should respond instantly</li>
              <li>Apps with background jobs/timers</li>
              <li>NOT needed for light testing environments</li>
            </ul>
            <p>
              <strong>Cost:</strong> Minimal extra cost, worth it for
              production.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <!-- Q6 -->
        <div class="qa-item">
          <div class="question">
            Q: What are Deployment Slots and how do they work?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Separate deployment environments
              (like staging vs production) within same App Service.
            </p>
            <p>
              <strong>Default slots:</strong> Production (live) + Staging (test
              new version)
            </p>
            <p><strong>How they work:</strong></p>
            <ul>
              <li>Deploy new code to Staging slot</li>
              <li>Test it without affecting production</li>
              <li>If good, swap Staging ‚Üî Production instantly</li>
              <li>If bad, roll back immediately</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Zero-downtime deployment, quick
              rollback, test before going live.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üé¨</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <!-- Q7 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you implement zero-downtime deployment using slots?
          </div>
          <div class="answer">
            <p><strong>Step-by-step process:</strong></p>
            <ul>
              <li>1. Deploy new version to Staging slot</li>
              <li>2. Run smoke tests on Staging URL</li>
              <li>3. Verify database migrations (if any)</li>
              <li>4. Warm up Staging (call endpoints to cache)</li>
              <li>5. Swap Staging ‚Üí Production (instant, few seconds)</li>
              <li>6. Monitor production for errors</li>
              <li>7. If issues, swap back immediately</li>
            </ul>
            <p>
              <strong>Why it's zero-downtime:</strong> Swap happens at load
              balancer level, old slot keeps running until swap completes.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <!-- Q8 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you manage environment-specific configuration?
          </div>
          <div class="answer">
            <p>
              <strong>Best Practice:</strong> Use Azure App Configuration or App
              Settings, NOT hardcoded values.
            </p>
            <p><strong>Methods:</strong></p>
            <ul>
              <li>
                <strong>App Settings:</strong> In Azure Portal ‚Üí Configuration ‚Üí
                App Settings. Key-value pairs injected as environment variables.
              </li>
              <li>
                <strong>Connection Strings:</strong> Separate section for
                database connections, encrypted at rest.
              </li>
              <li>
                <strong>Key Vault:</strong> For sensitive secrets (passwords,
                API keys)
              </li>
              <li>
                <strong>Slot Settings:</strong> Some settings don't swap between
                slots (for env-specific configs)
              </li>
            </ul>
            <p>
              <strong>Code example (C#):</strong> var value =
              Environment.GetEnvironmentVariable("SettingName");
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <!-- Q9 -->
        <div class="qa-item">
          <div class="question">Q: How do you secure Azure App Service?</div>
          <div class="answer">
            <p><strong>Security layers:</strong></p>
            <ul>
              <li><strong>HTTPS only:</strong> Force HTTPS, disable HTTP</li>
              <li>
                <strong>Authentication:</strong> Use Azure AD, OAuth, or
                built-in auth
              </li>
              <li>
                <strong>Network:</strong> Use VNet integration, Private
                Endpoints, restrict IPs
              </li>
              <li>
                <strong>Secrets:</strong> Use Key Vault for passwords, API keys
                (NOT app settings)
              </li>
              <li>
                <strong>Managed Identity:</strong> App talks to other Azure
                services without storing credentials
              </li>
              <li>
                <strong>CORS:</strong> Whitelist allowed domains for API calls
              </li>
              <li>
                <strong>WAF:</strong> Add Web Application Firewall for DDoS
                protection
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <!-- Q10 -->
        <div class="qa-item">
          <div class="question">
            Q: What happens during an App Service restart?
          </div>
          <div class="answer">
            <p><strong>Process:</strong></p>
            <ul>
              <li>Azure stops all running instances</li>
              <li>In-memory cache/sessions are lost</li>
              <li>IIS/Kestrel process restarts</li>
              <li>App startup logic runs again (migrations, initialization)</li>
              <li>New requests queue up (slight delay)</li>
            </ul>
            <p>
              <strong>Impact:</strong> Few seconds of unavailability for
              single-instance apps.
            </p>
            <p>
              <strong>Mitigation:</strong> Use multiple instances with load
              balancer so restart doesn't affect users.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
          </div>
        </div>

        <!-- Q11 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you troubleshoot 500 errors in production?
          </div>
          <div class="answer">
            <p><strong>Investigation steps:</strong></p>
            <ul>
              <li>
                1. Check Application Insights ‚Üí Failed Requests (see stack
                trace)
              </li>
              <li>2. Check logs: Log Analytics or Diagnostic Logs</li>
              <li>3. Check recent changes: Did you deploy something new?</li>
              <li>
                4. Check database: Is Azure SQL accessible? Connection limits
                hit?
              </li>
              <li>5. Check file system: Is storage full?</li>
              <li>6. Check dependencies: External API down?</li>
            </ul>
            <p>
              <strong>Quick fix:</strong> Restart app service, check logs,
              rollback if just deployed.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìã</a
            >
          </div>
        </div>

        <!-- Q12 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you monitor App Service performance?
          </div>
          <div class="answer">
            <p><strong>Key metrics to watch:</strong></p>
            <ul>
              <li><strong>CPU %:</strong> If > 80%, scale out</li>
              <li>
                <strong>Memory %:</strong> High = memory leak or not enough
                resources
              </li>
              <li>
                <strong>Request Count:</strong> Spike = traffic increase, check
                if auto-scale works
              </li>
              <li>
                <strong>Response Time:</strong> Slow = query optimization needed
              </li>
              <li><strong>Error Rate:</strong> > 5% = something broken</li>
              <li>
                <strong>File Handle Count:</strong> If maxed out, app crashes
              </li>
            </ul>
            <p>
              <strong>Tools:</strong> Application Insights, Azure Monitor,
              Metrics blade in Portal.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 2: Azure SQL -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 2 ‚Äî Azure SQL (Database Layer)
          </div>
          <div class="section-description">After compute, next is database</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <!-- Q1 -->
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure SQL with an
            ASP.NET Core API.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> Angular ‚Üí ASP.NET Core API ‚Üí Azure
              SQL Database
            </p>
            <p><strong>Implementation steps:</strong></p>
            <ul>
              <li>
                1. Create Azure SQL Server (managed instance or single database)
              </li>
              <li>2. Create database within server</li>
              <li>3. Configure firewall: Allow your App Service IP</li>
              <li>
                4. Create connection string: Server=xyz.database.windows.net;...
              </li>
              <li>5. In C# DbContext, use this connection string</li>
              <li>6. Use EF Core migrations to create/update schema</li>
              <li>7. App queries database through DbContext</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üóÑÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
          </div>
        </div>

        <!-- Q2 -->
        <div class="qa-item">
          <div class="question">
            Q: What is the difference between Azure SQL Database and SQL Server
            on VM?
          </div>
          <div class="answer">
            <p><strong>Azure SQL Database (PaaS - Managed):</strong></p>
            <ul>
              <li>Fully managed by Microsoft</li>
              <li>Auto backups, patching, high availability</li>
              <li>Pay per usage</li>
              <li>Less admin work, more expensive</li>
              <li>Best for most applications</li>
            </ul>
            <p><strong>SQL Server on VM (IaaS - Self-Managed):</strong></p>
            <ul>
              <li>You manage the server, patches, backups</li>
              <li>More control and customization</li>
              <li>More admin work, potentially cheaper</li>
              <li>Best for complex on-premises migrations</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Use Azure SQL Database for new
              projects (less hassle).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚òÅÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíª</a
            >
          </div>
        </div>

        <!-- Q3 -->
        <div class="qa-item">
          <div class="question">
            Q: What is DTU vs vCore and how do you choose?
          </div>
          <div class="answer">
            <p>
              <strong>DTU (Database Transaction Unit):</strong> Old measure,
              bundled compute + storage + IO
            </p>
            <ul>
              <li>Simple but less flexible</li>
              <li>
                Basic (5-1600 DTU), Standard (10-3000), Premium (125-4000)
              </li>
            </ul>
            <p>
              <strong>vCore (Virtual Core):</strong> Modern measure, buy compute
              separately
            </p>
            <ul>
              <li>More flexible and predictable pricing</li>
              <li>Choose CPU + RAM + storage independently</li>
              <li>Recommended for new projects</li>
            </ul>
            <p><strong>How to choose:</strong></p>
            <ul>
              <li>Start with 2 vCore, monitor CPU usage</li>
              <li>If CPU > 80%, scale up to 4 vCore</li>
              <li>Watch storage growth, upgrade if needed</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <!-- Q4 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you securely connect App Service to Azure SQL?
          </div>
          <div class="answer">
            <p>
              <strong>Best Practice Methods (in order of preference):</strong>
            </p>
            <ul>
              <li>
                <strong>1. Managed Identity (Recommended):</strong> App Service
                has built-in identity, no password needed. Create login using:
                CREATE USER [AppName] FROM EXTERNAL PROVIDER
              </li>
              <li>
                <strong>2. Private Endpoint:</strong> Connect through private
                network, not public internet
              </li>
              <li>
                <strong>3. Connection String in Key Vault:</strong> If you must
                use password, store in Key Vault, not hardcoded
              </li>
              <li>
                <strong>4. Firewall Rules:</strong> Allow only App Service IP,
                deny all others
              </li>
            </ul>
            <p>
              <strong>Never:</strong> Hardcode passwords in code or
              appsettings.json
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <!-- Q5 -->
        <div class="qa-item">
          <div class="question">
            Q: What is connection pooling and how does it work?
          </div>
          <div class="answer">
            <p>
              <strong>Problem it solves:</strong> Opening new DB connection for
              each request is SLOW.
            </p>
            <p>
              <strong>Solution - Connection Pool:</strong> Maintain pool of open
              connections, reuse them.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>10 connections pre-opened and kept alive</li>
              <li>Request 1 asks for connection ‚Üí gets from pool</li>
              <li>
                Request 2 asks for connection ‚Üí gets different one from pool
              </li>
              <li>
                Request 1 finishes ‚Üí connection returns to pool (not closed)
              </li>
              <li>Request 3 reuses that same connection</li>
            </ul>
            <p>
              <strong>In C#:</strong> Connection pooling is automatic in Entity
              Framework. Just use DbContext correctly.
            </p>
            <p>
              <strong>Pool size:</strong> Default usually good. Too small =
              timeouts. Too large = waste of resources.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <!-- Q6 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you handle transient faults and retries?
          </div>
          <div class="answer">
            <p>
              <strong>Transient faults:</strong> Temporary errors that go away
              (network timeout, busy server).
            </p>
            <p><strong>Solution:</strong> Retry with exponential backoff.</p>
            <p><strong>Retry logic:</strong></p>
            <ul>
              <li>Try operation</li>
              <li>If fails with transient error, wait 1 second, retry</li>
              <li>If fails again, wait 2 seconds, retry</li>
              <li>If fails 3 times, give up</li>
            </ul>
            <p><strong>In C# with EF Core:</strong></p>
            <ul>
              <li>Use Polly library for retry policies</li>
              <li>
                Or use built-in: services.AddDbContext().UseSqlServer(...,
                options => options.EnableRetryOnFailure(3))
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <!-- Q7 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you restrict Azure SQL access only to your App Service?
          </div>
          <div class="answer">
            <p><strong>Steps:</strong></p>
            <ul>
              <li>1. Go to Azure SQL Server ‚Üí Networking</li>
              <li>
                2. Set "Public endpoint access" to OFF (block all public access)
              </li>
              <li>3. Create Private Endpoint for App Service</li>
              <li>
                4. OR use Firewall Rules: Allow only App Service outbound IP
              </li>
              <li>5. Add Firewall rule: Allow 1.2.3.4 (your App Service IP)</li>
              <li>6. Deny 0.0.0.0/0 (deny internet)</li>
            </ul>
            <p>
              <strong>Best practice:</strong> Use Private Endpoint + Managed
              Identity (never need firewall rules or passwords).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öîÔ∏è</a
            >
          </div>
        </div>

        <!-- Q8 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you optimize slow queries in Azure SQL?
          </div>
          <div class="answer">
            <p>
              <strong>Step 1 - Find slow queries:</strong> Query Store ‚Üí Top
              Resource Consuming Queries
            </p>
            <p>
              <strong>Step 2 - Analyze execution plan:</strong> See WHERE the
              slowness is
            </p>
            <p><strong>Common optimizations:</strong></p>
            <ul>
              <li>
                <strong>Missing indexes:</strong> Create index on WHERE/JOIN
                columns
              </li>
              <li>
                <strong>N+1 queries:</strong> Use .Include() in EF Core to fetch
                related data in one query
              </li>
              <li><strong>SELECT *:</strong> Only select columns you need</li>
              <li>
                <strong>No WHERE clause:</strong> Filter in DB, not in code
              </li>
              <li>
                <strong>Lock contention:</strong> Too many transactions fighting
                = slow, use optimistic locking
              </li>
            </ul>
            <p>
              <strong>Azure SQL specific:</strong> Use Query Performance
              Insights in Portal to find expensive queries.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <!-- Q9 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you monitor Azure SQL performance?
          </div>
          <div class="answer">
            <p><strong>Key metrics:</strong></p>
            <ul>
              <li>
                <strong>CPU %:</strong> If > 90%, queries are slow or too many
                users
              </li>
              <li><strong>DTU/vCore usage:</strong> High = need bigger tier</li>
              <li>
                <strong>Storage %:</strong> Growing fast? Cleanup old data or
                expand
              </li>
              <li>
                <strong>Connections:</strong> How many active connections? Max
                is database-tier-dependent
              </li>
              <li>
                <strong>Blocked queries:</strong> Queries waiting for locks =
                deadlock or contention
              </li>
            </ul>
            <p>
              <strong>Tools:</strong> Azure Portal ‚Üí Metrics, Query Performance
              Insights, Dynamic Management Views (DMVs)
            </p>
            <p>
              <strong>Alert setup:</strong> Create alerts: If CPU > 85% for 5
              min, send email
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
          </div>
        </div>

        <!-- Q10 -->
        <div class="qa-item">
          <div class="question">Q: What is failover in Azure SQL?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Automatic switch to backup database
              if primary fails.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Primary DB in Region A goes down</li>
              <li>Azure detects failure (< 30 seconds)</li>
              <li>Automatically switches to Secondary DB in Region B</li>
              <li>Apps reconnect automatically (brief pause)</li>
            </ul>
            <p>
              <strong>Failover Groups:</strong> Enable automatic failover with
              specific time
            </p>
            <ul>
              <li>Creates read-only secondary replica</li>
              <li>If primary fails, secondary becomes primary</li>
              <li>Read-only still available during primary failure</li>
            </ul>
            <p>
              <strong>Cost:</strong> Extra for secondary replica, but critical
              for production.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <!-- Q11 -->
        <div class="qa-item">
          <div class="question">Q: What is Geo-replication?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Copy of database in different
              geographic region for disaster recovery.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Primary DB in East US replicates to West US</li>
              <li>All writes go to primary, then sync to secondary</li>
              <li>Secondary is read-only (you can query it)</li>
              <li>If primary region goes down, failover to secondary</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
              <li>Disaster recovery across regions</li>
              <li>Read scale-out (queries can use secondary)</li>
              <li>Compliance: Keep data copy in specific region</li>
            </ul>
            <p>
              <strong>Cost:</strong> Double storage cost (storing 2 copies).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì°</a
            >
          </div>
        </div>

        <!-- Q12 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you scale Azure SQL under high load?
          </div>
          <div class="answer">
            <p><strong>Vertical Scaling (bigger server):</strong></p>
            <ul>
              <li>Upgrade from 2 vCore to 4 vCore (takes few minutes)</li>
              <li>Brief unavailability during upgrade</li>
              <li>Best for sudden spikes</li>
            </ul>
            <p><strong>Horizontal Scaling (read replicas):</strong></p>
            <ul>
              <li>Add read-only secondary replicas</li>
              <li>Spread read queries across replicas</li>
              <li>Writes still go to primary</li>
            </ul>
            <p><strong>Query optimization:</strong></p>
            <ul>
              <li>Slow queries waste resources, fix them first</li>
              <li>Add indexes, fix N+1 problems</li>
            </ul>
            <p>
              <strong>Connection pooling:</strong> Limit concurrent connections,
              reuse them.
            </p>
            <p>
              <strong>Caching:</strong> Cache read-heavy data in Redis (details
              in Section 6).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <!-- Q13 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you manage EF Core migrations in production?
          </div>
          <div class="answer">
            <p>
              <strong>Best Practice:</strong> Never auto-migrate in production
              (too risky).
            </p>
            <p><strong>Safe steps:</strong></p>
            <ul>
              <li>1. Dev: Write code with new DbContext changes</li>
              <li>2. Create migration: dotnet ef migrations add MyMigration</li>
              <li>3. Review migration SQL: Ensure it's safe (no data loss)</li>
              <li>4. Staging: Test migration on staging DB</li>
              <li>5. Production backup: Backup before applying</li>
              <li>
                6. During deployment: Apply migration before old app stops
              </li>
              <li>7. Monitor: Watch for locks or slowness</li>
            </ul>
            <p>
              <strong>Long-running migrations:</strong> For big tables, do in
              background or schedule downtime.
            </p>
            <p>
              <strong>Rollback plan:</strong> Keep backup to restore if
              migration fails.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 3: Azure Blob Storage -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 3 ‚Äî Azure Blob Storage (File Storage Layer)
          </div>
          <div class="section-description">Now handling documents/files</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <!-- Q1 -->
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure Blob Storage
            in a .NET application.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> Angular ‚Üí .NET API ‚Üí Azure Blob
              Storage
            </p>
            <p><strong>Step-by-step:</strong></p>
            <ul>
              <li>1. Create Storage Account in Azure</li>
              <li>2. Create Container (like folder for blobs)</li>
              <li>3. In .NET: Install Azure.Storage.Blobs NuGet</li>
              <li>4. Create BlobClient to upload/download files</li>
              <li>
                5. User uploads file ‚Üí API saves to Blob Storage ‚Üí URL returned
              </li>
              <li>
                6. Later, user downloads: API generates SAS token ‚Üí Angular
                downloads directly
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Store files outside DB, cheaper,
              scalable, secure with SAS tokens.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìÅ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚òÅÔ∏è</a
            >
          </div>
        </div>

        <!-- Q2 -->
        <div class="qa-item">
          <div class="question">
            Q: When should you use Blob Storage instead of storing files in SQL?
          </div>
          <div class="answer">
            <p><strong>Use Blob Storage for:</strong></p>
            <ul>
              <li>Large files (PDFs, images, videos)</li>
              <li>Unstructured data (any file type)</li>
              <li>High volume of files</li>
              <li>Serving files to many users (CDN integration)</li>
            </ul>
            <p><strong>Use SQL Database for:</strong></p>
            <ul>
              <li>Small structured data</li>
              <li>Need to query file metadata</li>
              <li>Few files</li>
            </ul>
            <p><strong>Why not SQL for large files:</strong></p>
            <ul>
              <li>Makes DB huge ‚Üí slow backups</li>
              <li>Expensive per GB</li>
              <li>Can't stream files efficiently</li>
              <li>DB bloat = slower queries</li>
            </ul>
            <p>
              <strong>Best practice:</strong> Store file in Blob, store metadata
              (filename, size, upload date) in SQL.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üóÑÔ∏è</a
            >
          </div>
        </div>

        <!-- Q3 -->
        <div class="qa-item">
          <div class="question">
            Q: What is a SAS token and why is it important?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Shared Access Signature - a
              temporary, limited-scope access token for Blob Storage.
            </p>
            <p><strong>Why it's important:</strong></p>
            <ul>
              <li>Don't expose storage account key (too powerful)</li>
              <li>Give users limited access without revealing credentials</li>
              <li>Control what they can do (read-only, upload-only, etc.)</li>
              <li>Expires automatically</li>
            </ul>
            <p><strong>Example flow:</strong></p>
            <ul>
              <li>User asks API to download file</li>
              <li>API generates SAS token (valid 1 hour)</li>
              <li>API sends token to Angular</li>
              <li>Angular downloads directly from Blob using token</li>
              <li>After 1 hour, token expires (can't download anymore)</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Direct download (no bandwidth cost on
              API), time-limited, can't be reused beyond time.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <!-- Q4 -->
        <div class="qa-item">
          <div class="question">
            Q: What is the difference between Service SAS and Account SAS?
          </div>
          <div class="answer">
            <p>
              <strong>Service SAS:</strong> Scoped to specific blob/container
            </p>
            <ul>
              <li>Limited to one container, or specific blob</li>
              <li>Safer, can't access other containers</li>
              <li>Preferred for user downloads</li>
              <li>Example: "Download only this invoice, expires in 1 hour"</li>
            </ul>
            <p><strong>Account SAS:</strong> Full storage account access</p>
            <ul>
              <li>Access to all containers, queues, tables</li>
              <li>Powerful, potentially dangerous</li>
              <li>Only for server-to-server, not user-facing</li>
              <li>Example: "Backend service accessing everything"</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Always use Service SAS for
              end-users (principle of least privilege).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öîÔ∏è</a
            >
          </div>
        </div>

        <!-- Q5 -->
        <div class="qa-item">
          <div class="question">
            Q: What is the difference between public and private containers?
          </div>
          <div class="answer">
            <p>
              <strong>Public Container:</strong> Blobs accessible to anyone with
              URL
            </p>
            <ul>
              <li>Anyone can download if they know blob name</li>
              <li>Use for: Public images, assets, etc.</li>
              <li>Good for CDN (serve images globally)</li>
              <li>Security: Don't put secrets here</li>
            </ul>
            <p>
              <strong>Private Container:</strong> Blobs not accessible without
              credentials
            </p>
            <ul>
              <li>Need storage key or SAS token</li>
              <li>Use for: User uploads, invoices, sensitive docs</li>
              <li>Safer, only authorized users can access</li>
            </ul>
            <p><strong>Hybrid approach:</strong></p>
            <ul>
              <li>Store in private container (default)</li>
              <li>Generate SAS token for authorized downloads</li>
              <li>Best of both worlds: Control + flexibility</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîì</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <!-- Q6 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you prevent unauthorized file access?
          </div>
          <div class="answer">
            <p><strong>Security layers:</strong></p>
            <ul>
              <li>
                <strong>1. Private container:</strong> Disable public access by
                default
              </li>
              <li>
                <strong>2. SAS token with expiry:</strong> Temporary access,
                auto-expires
              </li>
              <li>
                <strong>3. Scope to blob/container:</strong> Don't give access
                to whole account
              </li>
              <li>
                <strong>4. Permissions:</strong> Read-only, no delete (least
                privilege)
              </li>
              <li>
                <strong>5. IP restriction:</strong> SAS token valid only from
                specific IPs
              </li>
              <li>
                <strong>6. Storage key in Key Vault:</strong> Don't hardcode,
                use Managed Identity
              </li>
              <li>
                <strong>7. Access control in API:</strong> Verify user owns the
                blob before returning SAS token
              </li>
            </ul>
            <p>
              <strong>Example:</strong> User A should only download their own
              invoices, not User B's. API checks this.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <!-- Q7 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you upload files securely from Angular through .NET API?
          </div>
          <div class="answer">
            <p><strong>Secure flow:</strong></p>
            <ul>
              <li>1. User selects file in Angular</li>
              <li>2. Angular calls API: POST /api/files/upload</li>
              <li>3. API receives file, validates: Size, type, virus scan</li>
              <li>
                4. API saves to Blob Storage with unique name (prevent
                overwrites)
              </li>
              <li>
                5. API stores metadata in SQL (filename, size, user ID, date)
              </li>
              <li>6. API returns blob URL to Angular</li>
              <li>7. Angular displays confirmation</li>
            </ul>
            <p><strong>Security checklist:</strong></p>
            <ul>
              <li>Validate file size (max 100MB)</li>
              <li>Validate file type (.pdf, .docx only, not .exe)</li>
              <li>Scan for viruses (Azure Defender)</li>
              <li>Use unique filenames to prevent overwrites</li>
              <li>Check user authorization (can this user upload?)</li>
              <li>Rate limit uploads (prevent spam)</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì§</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <!-- Q8 -->
        <div class="qa-item">
          <div class="question">Q: How do you handle large file uploads?</div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Uploading 500MB file in one go fails
              (timeout, memory).
            </p>
            <p><strong>Solution - Block Upload (Chunked):</strong></p>
            <ul>
              <li>Split file into 4MB chunks</li>
              <li>Upload chunk 1, 2, 3... one by one</li>
              <li>If chunk 5 fails, retry only chunk 5</li>
              <li>After all chunks uploaded, tell server to assemble</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
              <li>No timeout (each chunk is small)</li>
              <li>Resume capability (if upload paused, resume from chunk 5)</li>
              <li>Progress bar (user sees upload %)</li>
              <li>No memory bloat (don't load whole file in RAM)</li>
            </ul>
            <p>
              <strong>Tools:</strong> Use Azure SDK's
              BlobContainerClient.UploadAsync with chunking, or third-party like
              Resumable.js
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è≥</a
            >
          </div>
        </div>

        <!-- Q9 -->
        <div class="qa-item">
          <div class="question">
            Q: What are Blob tiers and when do you use each?
          </div>
          <div class="answer">
            <p><strong>Hot tier:</strong> Frequent access</p>
            <ul>
              <li>Lowest retrieval cost, highest storage cost</li>
              <li>Use for: Active user documents, images shown daily</li>
            </ul>
            <p><strong>Cool tier:</strong> Infrequent access (once a week)</p>
            <ul>
              <li>Higher retrieval cost, lower storage cost</li>
              <li>Minimum storage 30 days or pay penalty</li>
              <li>Use for: Backups, archived documents</li>
            </ul>
            <p><strong>Archive tier:</strong> Rarely accessed</p>
            <ul>
              <li>Lowest storage cost, high retrieval cost</li>
              <li>Minimum 180 days storage</li>
              <li>Takes hours to retrieve (cold retrieval)</li>
              <li>Use for: Long-term compliance backups</li>
            </ul>
            <p>
              <strong>Cost optimization:</strong> Move old blobs to cooler tiers
              automatically (lifecycle policies).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùÑÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üî•</a
            >
          </div>
        </div>

        <!-- Q10 -->
        <div class="qa-item">
          <div class="question">
            Q: How do you implement lifecycle management?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Automatically move/delete blobs based
              on age and access patterns.
            </p>
            <p><strong>Example policy:</strong></p>
            <ul>
              <li>If blob older than 30 days ‚Üí Move to Cool tier</li>
              <li>If blob older than 90 days ‚Üí Move to Archive</li>
              <li>If blob older than 1 year ‚Üí Delete</li>
            </ul>
            <p><strong>Setup steps:</strong></p>
            <ul>
              <li>Go to Storage Account ‚Üí Lifecycle management</li>
              <li>Add rule (e.g., "Delete blobs > 365 days old")</li>
              <li>Specify conditions: blob age, access tier, blob type</li>
              <li>Set actions: Delete, Tier to Cool, Tier to Archive</li>
              <li>Save</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Automatic cost optimization, don't
              manually manage old files.
            </p>
            <p>
              <strong>Caution:</strong> Verify deletion rule before enabling (no
              undo after delete).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üí∞</a
            >
          </div>
        </div>

        <!-- Q11 -->
        <div class="qa-item">
          <div class="question">Q: What is soft delete and versioning?</div>
          <div class="answer">
            <p>
              <strong>Soft Delete:</strong> Blob marked as deleted but
              recoverable for 7 days
            </p>
            <ul>
              <li>User deletes file ‚Üí actually just marked as deleted</li>
              <li>Storage still counts as used (costs money)</li>
              <li>Within 7 days, can undelete ‚Üí blob is back</li>
              <li>After 7 days, auto-purged</li>
              <li>Protect against accidental deletion</li>
            </ul>
            <p>
              <strong>Versioning:</strong> Keep history of all blob versions
            </p>
            <ul>
              <li>Upload file v1</li>
              <li>Upload file again ‚Üí creates v2 (v1 kept)</li>
              <li>Can restore to any previous version</li>
              <li>Costs: Each version counts as stored blob (expensive)</li>
              <li>Use for: Critical documents where you need rollback</li>
            </ul>
            <p>
              <strong>Setup:</strong> Storage Account ‚Üí Data protection ‚Üí Enable
              soft delete and versioning
            </p>
            <p>
              <strong>Cost warning:</strong> Versioning multiplies storage cost
              (keep only necessary versions).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ôªÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìã</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 4: Azure Key Vault -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 4 ‚Äî Azure Key Vault (Security Layer)
          </div>
          <div class="section-description">Now securing secrets</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <!-- Q1 -->
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure Key Vault
            with App Service.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> App Service reads secrets from Key
              Vault securely
            </p>
            <p><strong>Steps:</strong></p>
            <ul>
              <li>1. Create Key Vault in Azure</li>
              <li>
                2. Store secrets: DB password, API keys, connection strings
              </li>
              <li>3. Enable Managed Identity on App Service</li>
              <li>4. Grant App Service permission to read Key Vault</li>
              <li>
                5. In .NET code: Use DefaultAzureCredential to access secrets
              </li>
              <li>
                6. At startup, load secrets from Key Vault (not from config
                file)
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Secrets never hardcoded,
              auto-rotatable, audited access.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>

        <!-- Q2 -->
        <div class="qa-item">
          <div class="question">
            Q: What problem does Key Vault solve in real projects?
          </div>
          <div class="answer">
            <p><strong>Problem - Hardcoded secrets:</strong></p>
            <ul>
              <li>Developer writes: var password = "MyPassword123"; in code</li>
              <li>Commit to GitHub ‚Üí Entire world can see password</li>
              <li>Attacker finds it ‚Üí Can access your database</li>
              <li>Rotate password ‚Üí Need to rebuild and redeploy</li>
            </ul>
            <p><strong>Solution - Key Vault:</strong></p>
            <ul>
              <li>Store secrets in secure vault (not code)</li>
              <li>App reads from vault at runtime</li>
              <li>Code never knows the actual password</li>
              <li>Change password in vault ‚Üí No code change needed</li>
              <li>Audit trail: Know who accessed what secret and when</li>
            </ul>
            <p>
              <strong>Real example:</strong> Your database password changed.
              Without Key Vault, you'd restart app with new secret. With Key
              Vault, app picks up new secret automatically.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
          </div>
        </div>

        <!-- Q3 -->
        <div class="qa-item">
          <div class="question">
            Q: What is Managed Identity and why is it preferred?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Azure-managed identity for your app,
              no credentials needed.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Enable Managed Identity on App Service (one click)</li>
              <li>Azure creates a service principal for your app</li>
              <li>App automatically authenticated to Azure services</li>
              <li>No password/key to manage</li>
            </ul>
            <p><strong>Why preferred:</strong></p>
            <ul>
              <li>
                <strong>No credentials:</strong> Don't need to store/rotate
                secrets for authentication
              </li>
              <li>
                <strong>Automatic:</strong> Azure handles everything behind
                scenes
              </li>
              <li>
                <strong>Secure:</strong> Credentials auto-refreshed, can't leak
              </li>
              <li><strong>Audited:</strong> All access logged</li>
            </ul>
            <p>
              <strong>Alternative - Service Principal:</strong> Manual
              credentials, must manage and rotate (risky).
            </p>
            <p>
              <strong>Interview answer:</strong> Always use Managed Identity
              over Service Principals.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë§</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <!-- Q4 -->
        <div class="qa-item">
          <div class="question">
            Q: How does App Service access Key Vault securely?
          </div>
          <div class="answer">
            <p><strong>Flow:</strong></p>
            <ul>
              <li>1. App Service has Managed Identity enabled</li>
              <li>
                2. App runs code: var secret = new SecretClient(vaultUri, new
                DefaultAzureCredential()).GetSecret("DbPassword");
              </li>
              <li>
                3. DefaultAzureCredential uses Managed Identity (no password in
                code)
              </li>
              <li>
                4. Azure verifies: "Is this App Service allowed to read Key
                Vault?"
              </li>
              <li>5. If yes, returns secret; if no, denied</li>
            </ul>
            <p><strong>Access Control Setup:</strong></p>
            <ul>
              <li>Go to Key Vault ‚Üí Access Policies</li>
              <li>Add: App Service identity ‚Üí Grant "Get Secret" permission</li>
              <li>Now only this app can read secrets</li>
            </ul>
            <p>
              <strong>Security:</strong> No connection string or credentials in
              code/config. Entirely Azure-managed.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîì</a
            >
          </div>
        </div>

        <!-- Q5 -->
        <div class="qa-item">
          <div class="question">
            Q: What is the difference between Managed Identity and Service
            Principal?
          </div>
          <div class="answer">
            <p><strong>Managed Identity:</strong></p>
            <ul>
              <li>Created automatically by Azure for your app</li>
              <li>No credentials to manage</li>
              <li>Auto-renewable</li>
              <li>Easy: Just enable on App Service</li>
              <li>Best for Azure-to-Azure communication</li>
            </ul>
            <p><strong>Service Principal:</strong></p>
            <ul>
              <li>Created manually as separate Azure resource</li>
              <li>You manage credentials (client ID + secret)</li>
              <li>Must rotate secret periodically</li>
              <li>More flexible (can use outside Azure)</li>
              <li>Use for: On-premises apps, external services</li>
            </ul>
            <p><strong>Comparison:</strong></p>
            <ul>
              <li>Managed Identity = Simpler, safer, zero-maintenance</li>
              <li>Service Principal = More powerful, but more work</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Use Managed Identity for Azure
              resources, Service Principal only if necessary.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë§</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>

        <!-- Q6 -->
        <div class="qa-item">
          <div class="question">
            Q: What is Access Policy vs RBAC in Key Vault?
          </div>
          <div class="answer">
            <p><strong>Access Policy (Legacy, still used):</strong></p>
            <ul>
              <li>Grant permissions directly: "User X can Get Secret"</li>
              <li>Simple, works well for single Key Vault</li>
              <li>Limited to Key Vault only</li>
            </ul>
            <p><strong>RBAC (Modern, recommended):</strong></p>
            <ul>
              <li>Role-based access: "Key Vault Secrets Officer" role</li>
              <li>Same role applies across multiple resources</li>
              <li>More granular control</li>
              <li>Integrates with Azure AD groups</li>
              <li>Better for enterprises</li>
            </ul>
            <p><strong>Setup RBAC:</strong></p>
            <ul>
              <li>Key Vault ‚Üí Access Control (IAM) ‚Üí Add role assignment</li>
              <li>
                Select role: "Key Vault Secrets User" for reads, "Key Vault
                Secrets Officer" for writes
              </li>
              <li>Assign to: User, group, or Managed Identity</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Use RBAC for new projects
              (Access Policy is legacy).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë•</a
            >
          </div>
        </div>

        <!-- Q7 -->
        <div class="qa-item">
          <div class="question">Q: How do you rotate secrets securely?</div>
          <div class="answer">
            <p><strong>Manual Rotation:</strong></p>
            <ul>
              <li>1. Generate new password for database</li>
              <li>2. Update database with new password</li>
              <li>3. Update secret in Key Vault</li>
              <li>4. App picks up new secret (within refresh interval)</li>
              <li>
                5. Delete old password from database (optional grace period)
              </li>
            </ul>
            <p><strong>Automatic Rotation (Azure-managed):</strong></p>
            <ul>
              <li>Setup auto-rotation on Key Vault</li>
              <li>Azure calls your rotation function periodically</li>
              <li>Function generates new secret, updates target service</li>
              <li>Minimal downtime</li>
            </ul>
            <p><strong>Zero-downtime rotation:</strong></p>
            <ul>
              <li>
                Database accepts both old and new passwords (grace period)
              </li>
              <li>Update Key Vault with new secret</li>
              <li>All apps gradually pick up new secret</li>
              <li>Old password still works for a while (grace period)</li>
              <li>After all apps switched, disable old password</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <!-- Q8 -->
        <div class="qa-item">
          <div class="question">
            Q: What happens if Key Vault becomes unavailable?
          </div>
          <div class="answer">
            <p>
              <strong>Scenario:</strong> Key Vault is down, app needs a secret
              to start.
            </p>
            <p>
              <strong>Default behavior:</strong> App fails to start (can't get
              secrets).
            </p>
            <p><strong>Solutions:</strong></p>
            <ul>
              <li>
                <strong>1. Local caching:</strong> Cache secrets in app memory
                after first fetch. If vault down, use cached value.
              </li>
              <li>
                <strong>2. Optional secrets:</strong> Some secrets optional (log
                level, feature flags). App continues without them.
              </li>
              <li>
                <strong>3. Managed Identity retry:</strong> Azure SDK retries
                automatically with exponential backoff.
              </li>
              <li>
                <strong>4. Multiple vaults:</strong> Store secrets in 2 vaults
                (primary + secondary region). Fallback if one down.
              </li>
              <li>
                <strong>5. SLA:</strong> Key Vault has 99.99% uptime SLA. Rarely
                down, but be prepared.
              </li>
            </ul>
            <p>
              <strong>Best practice:</strong> Cache critical secrets, fail
              gracefully if vault unavailable.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 5: Azure Networking -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 5 ‚Äî Azure Networking (Security & Isolation Layer)
          </div>
          <div class="section-description">Very important for senior roles</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow of securing Azure services using VNet
            and Private Endpoints.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> Private network instead of public
              internet
            </p>
            <p><strong>Flow:</strong></p>
            <ul>
              <li>1. Create VNet (virtual network) in Azure</li>
              <li>2. Place App Service in VNet (VNet integration)</li>
              <li>3. Place Azure SQL in VNet (or use Private Endpoint)</li>
              <li>4. Create Private Endpoint for Blob Storage in VNet</li>
              <li>
                5. App Service talks to SQL and Blob through private network
                (not internet)
              </li>
              <li>
                6. External users access App Service through public endpoint
                only
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Data never leaves Azure network, no
              exposure to internet, compliant with security policies.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is VNet and why is it important?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Virtual Network - your private
              network in Azure cloud.
            </p>
            <p>
              <strong>Analogy:</strong> Like your home WiFi network, but in
              Azure cloud.
            </p>
            <p><strong>Key features:</strong></p>
            <ul>
              <li>Isolated from internet (by default)</li>
              <li>You control what goes in/out (firewall rules)</li>
              <li>Services communicate through private IPs (fast, secure)</li>
              <li>Can connect to on-premises network (hybrid)</li>
            </ul>
            <p><strong>Why important:</strong></p>
            <ul>
              <li>Security: Services not exposed to internet</li>
              <li>Performance: Private network = faster communication</li>
              <li>Compliance: Data stays in controlled network</li>
              <li>
                Multi-tier architecture: Front-end, backend, DB in separate
                subnets
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üï∏Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Subnet?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Subdivision of VNet, like dividing
              your house into rooms.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>VNet has IP range: 10.0.0.0/16 (65,000 IPs)</li>
              <li>Subnet 1: 10.0.1.0/24 (250 IPs) ‚Üí App Service</li>
              <li>Subnet 2: 10.0.2.0/24 (250 IPs) ‚Üí Database</li>
              <li>Subnet 3: 10.0.3.0/24 (250 IPs) ‚Üí Cache</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
              <li>Organize by function (web tier, data tier)</li>
              <li>Apply different security rules per subnet</li>
              <li>Allow App ‚Üí DB, but deny DB ‚Üí App (one-way)</li>
              <li>
                Limit blast radius: If one subnet compromised, others still safe
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is NSG?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Network Security Group - firewall for
              subnet/network interface.
            </p>
            <p>
              <strong>What it does:</strong> Controls inbound and outbound
              traffic.
            </p>
            <p><strong>Example rules:</strong></p>
            <ul>
              <li>
                <strong>Inbound:</strong> Allow port 443 (HTTPS) from internet ‚Üí
                App Service
              </li>
              <li>
                <strong>Inbound:</strong> Allow port 3306 (MySQL) from App
                Subnet ‚Üí DB Subnet
              </li>
              <li><strong>Inbound:</strong> Deny all other traffic</li>
              <li>
                <strong>Outbound:</strong> Allow App ‚Üí Internet (for external
                APIs)
              </li>
              <li>
                <strong>Outbound:</strong> Deny App ‚Üí Database from Internet
                (prevent exfiltration)
              </li>
            </ul>
            <p>
              <strong>Setup:</strong> Azure Portal ‚Üí NSGs ‚Üí Add Inbound/Outbound
              Rules ‚Üí Specify Source, Port, Action
            </p>
            <p>
              <strong>Best practice:</strong> Deny all by default, allow only
              necessary traffic (whitelist approach).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üöß</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öîÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Private Endpoint?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Private connection to Azure service
              through VNet (no public internet).
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Normally: App ‚Üí Internet ‚Üí Blob Storage (public)</li>
              <li>
                With Private Endpoint: App ‚Üí VNet ‚Üí Blob Storage (private)
              </li>
            </ul>
            <p><strong>Example setup:</strong></p>
            <ul>
              <li>Create Private Endpoint for Blob Storage in your VNet</li>
              <li>Azure assigns private IP (10.0.0.5) for Blob</li>
              <li>App Service connects to 10.0.0.5 instead of public URL</li>
              <li>Connection stays within Azure network (not internet)</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Secure (not on public internet), fast
              (private network), no data exfiltration risk.
            </p>
            <p><strong>Cost:</strong> Small monthly fee per endpoint.</p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Service Endpoint?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Simplified way to secure Azure
              service access (older than Private Endpoint).
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>Enable Service Endpoint on Blob Storage</li>
              <li>Add firewall rule: "Allow from VNet subnet only"</li>
              <li>
                Traffic still goes through internet but Azure validates source
                is from your VNet
              </li>
            </ul>
            <p><strong>Difference from Private Endpoint:</strong></p>
            <ul>
              <li>
                <strong>Service Endpoint:</strong> Uses service's public
                endpoint, but with VNet validation
              </li>
              <li>
                <strong>Private Endpoint:</strong> Uses dedicated private IP in
                your VNet, completely private
              </li>
            </ul>
            <p><strong>When to use:</strong></p>
            <ul>
              <li>Service Endpoint: Simpler, good for PaaS services</li>
              <li>Private Endpoint: More secure, for sensitive data</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Use Private Endpoints for
              production (more secure).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ£Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How does App Service connect securely to Azure SQL using Private
            Endpoint?
          </div>
          <div class="answer">
            <p><strong>Step-by-step setup:</strong></p>
            <ul>
              <li>1. Create VNet and subnet</li>
              <li>2. Create Private Endpoint for Azure SQL in VNet</li>
              <li>3. Azure assigns private IP (10.0.0.10) for SQL</li>
              <li>4. Enable VNet integration on App Service</li>
              <li>5. App Service now in same VNet as SQL</li>
              <li>
                6. Update connection string: Server=10.0.0.10 (private IP)
              </li>
              <li>7. Disable SQL public endpoint (optional but recommended)</li>
            </ul>
            <p>
              <strong>Result:</strong> App ‚Üí Private network ‚Üí SQL (no public
              internet exposure)
            </p>
            <p>
              <strong>No authentication needed for network access:</strong>
              Networking is separate from auth. Still use Managed Identity or
              passwords, but over private connection.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is the difference between public access and private access?
          </div>
          <div class="answer">
            <p>
              <strong>Public Access:</strong> Service accessible from internet
            </p>
            <ul>
              <li>
                SQL: sqlserver.database.windows.net (anyone can try to connect)
              </li>
              <li>Blob: mystorageaccount.blob.core.windows.net (public URL)</li>
              <li>
                Risk: Exposed to internet attacks, requires strong passwords
              </li>
            </ul>
            <p>
              <strong>Private Access:</strong> Service only accessible from VNet
            </p>
            <ul>
              <li>SQL: 10.0.0.10 (private IP, only in VNet)</li>
              <li>Blob: Private Endpoint in VNet (only from VNet)</li>
              <li>Benefit: Hidden from internet, safer</li>
            </ul>
            <p><strong>Hybrid approach (recommended):</strong></p>
            <ul>
              <li>App Service: Public (users access it from internet)</li>
              <li>SQL: Private (only App Service connects)</li>
              <li>Blob: Private (only App Service downloads)</li>
            </ul>
            <p>
              <strong>Interview answer:</strong> Expose only what users need,
              keep backend services private.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 6: Azure Redis Cache -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 6 ‚Äî Azure Redis Cache (Performance Layer)
          </div>
          <div class="section-description">Improve performance</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure Redis Cache
            in a .NET API.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> App Service ‚Üí Cache Layer (Redis) ‚Üí
              Database
            </p>
            <p><strong>Step-by-step:</strong></p>
            <ul>
              <li>1. Create Azure Redis Cache instance</li>
              <li>2. Install NuGet: StackExchange.Redis</li>
              <li>3. Connect to Redis using connection string</li>
              <li>4. When querying data: Check cache first (fast)</li>
              <li>5. If cache miss: Query database, store result in cache</li>
              <li>
                6. Next request gets data from cache (< 1ms vs 50ms from DB)
              </li>
            </ul>
            <p>
              <strong>Code pattern:</strong> Try cache ‚Üí If miss, DB query ‚Üí
              Store in cache with expiry
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: When should you introduce caching?</div>
          <div class="answer">
            <p><strong>Signs you need caching:</strong></p>
            <ul>
              <li>
                <strong>Slow response times:</strong> API response > 200ms
              </li>
              <li>
                <strong>Database overload:</strong> CPU > 80%, slow queries
              </li>
              <li>
                <strong>High traffic:</strong> Same data requested 1000x/minute
              </li>
              <li>
                <strong>Heavy computation:</strong> Expensive calculations
                repeated
              </li>
              <li>
                <strong>Real-time not needed:</strong> Data doesn't change every
                second
              </li>
            </ul>
            <p><strong>When NOT to cache:</strong></p>
            <ul>
              <li>Data changes constantly (real-time stock prices)</li>
              <li>User-specific data (each user different)</li>
              <li>Tiny queries (already fast)</li>
            </ul>
            <p>
              <strong>Good candidates for caching:</strong> Product catalogs,
              user lists, configurations, frequently accessed reports.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is the difference between in-memory and distributed cache?
          </div>
          <div class="answer">
            <p><strong>In-Memory Cache (Local):</strong></p>
            <ul>
              <li>Data stored in app's RAM</li>
              <li>Super fast (< 1ms)</li>
              <li>Problem: Each instance has its own cache (not shared)</li>
              <li>If 2 instances running, duplicate data = wasted memory</li>
              <li>Data lost on app restart</li>
              <li>Use for: Single-instance apps or non-critical caching</li>
            </ul>
            <p><strong>Distributed Cache (Redis):</strong></p>
            <ul>
              <li>Central cache server shared by all app instances</li>
              <li>All instances see same data</li>
              <li>Slightly slower (5-10ms) than in-memory</li>
              <li>Persistent across restarts</li>
              <li>Scalable (Redis can handle millions of items)</li>
              <li>Use for: Multi-instance apps, production systems</li>
            </ul>
            <p>
              <strong>Best practice:</strong> Use distributed cache (Redis) for
              production to ensure consistency.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíª</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement Redis caching in .NET Core?
          </div>
          <div class="answer">
            <p><strong>Setup:</strong></p>
            <ul>
              <li>1. NuGet: Install-Package StackExchange.Redis</li>
              <li>
                2. Connection string: "localhost:6379" (local) or Azure Redis
                endpoint
              </li>
              <li>
                3. Create Redis client: var redis =
                ConnectionMultiplexer.Connect(connectionString);
              </li>
              <li>4. Get database: var db = redis.GetDatabase();</li>
            </ul>
            <p><strong>Basic operations:</strong></p>
            <ul>
              <li>
                Set: db.StringSet("key", "value", TimeSpan.FromMinutes(10));
              </li>
              <li>Get: var value = db.StringGet("key");</li>
              <li>Delete: db.KeyDelete("key");</li>
              <li>Check exists: db.KeyExists("key");</li>
            </ul>
            <p><strong>Caching pattern:</strong></p>
            <ul>
              <li>var cached = db.StringGet("user:123");</li>
              <li>
                if (cached.IsNull) { var user = GetFromDB();
                db.StringSet("user:123", JsonConvert.SerializeObject(user),
                TimeSpan.FromHours(1)); }
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is sliding vs absolute expiration?</div>
          <div class="answer">
            <p>
              <strong>Absolute Expiration:</strong> Fixed time, always expires
            </p>
            <ul>
              <li>Set at 10:00 AM, expires at 11:00 AM (1 hour absolute)</li>
              <li>Even if accessed every minute, still expires at 11:00 AM</li>
              <li>Use for: Data that becomes stale (weather forecast, news)</li>
              <li>Example: Cache product price for 24 hours</li>
            </ul>
            <p><strong>Sliding Expiration:</strong> Resets on access</p>
            <ul>
              <li>Set to expire in 10 minutes of inactivity</li>
              <li>Access at 10:00 ‚Üí Expires at 10:10</li>
              <li>Access at 10:05 ‚Üí Resets, now expires at 10:15</li>
              <li>Access at 10:14 ‚Üí Resets again, now expires at 10:24</li>
              <li>Use for: Session data, user preferences</li>
            </ul>
            <p>
              <strong>In Redis:</strong> Redis doesn't have sliding expiration
              built-in. You must manually set new expiry on each access.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is cache invalidation and why is it important?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Data in cache becomes stale (outdated)
            </p>
            <ul>
              <li>Product price cached at $100</li>
              <li>Admin updates price to $50</li>
              <li>Cache still shows $100 (wrong!)</li>
              <li>Users see outdated price</li>
            </ul>
            <p>
              <strong>Solution - Cache Invalidation:</strong> Delete cache when
              data changes
            </p>
            <ul>
              <li>Admin updates price ‚Üí Delete from cache</li>
              <li>Next request queries DB ‚Üí Gets new price ‚Üí Caches it</li>
              <li>Users see correct price</li>
            </ul>
            <p><strong>Strategies:</strong></p>
            <ul>
              <li>
                <strong>TTL:</strong> Auto-expire after time (simple but lazy)
              </li>
              <li>
                <strong>Event-based:</strong> Delete on update (immediate,
                accurate)
              </li>
              <li>
                <strong>Versioning:</strong> Cache with version: "product:v1",
                "product:v2"
              </li>
            </ul>
            <p>
              <strong>Best practice:</strong> Combine TTL (safety net) + event
              invalidation (accuracy).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you design caching strategy for high-traffic APIs?
          </div>
          <div class="answer">
            <p><strong>Layered caching approach:</strong></p>
            <ul>
              <li>
                <strong>Layer 1 - CDN:</strong> Cache HTTP responses globally
                (images, CSS). 1 hour TTL
              </li>
              <li>
                <strong>Layer 2 - Redis:</strong> Cache query results, computed
                data. 10-30 min TTL
              </li>
              <li><strong>Layer 3 - Database:</strong> Source of truth</li>
            </ul>
            <p><strong>Strategy by data type:</strong></p>
            <ul>
              <li>
                <strong>Read-heavy (products):</strong> Cache aggressively, 1
                hour TTL
              </li>
              <li>
                <strong>Write-heavy (orders):</strong> Minimal caching, 1 min
                TTL
              </li>
              <li>
                <strong>Real-time (stock prices):</strong> Don't cache, query
                directly
              </li>
            </ul>
            <p><strong>Key metrics:</strong></p>
            <ul>
              <li>Cache hit ratio: 90%+ = good (most requests from cache)</li>
              <li>Miss ratio: < 10% = acceptable</li>
            </ul>
            <p>
              <strong>Monitoring:</strong> Watch cache hit/miss ratios, adjust
              TTL based on data freshness needs.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üéØ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What happens if Redis becomes unavailable?
          </div>
          <div class="answer">
            <p>
              <strong>Scenario:</strong> Redis server down during cache
              operation.
            </p>
            <p>
              <strong>Default behavior:</strong> App throws exception, request
              fails.
            </p>
            <p><strong>Resilience strategy:</strong></p>
            <ul>
              <li>1. Catch Redis exception in code</li>
              <li>2. If cache fails, query database directly (fallback)</li>
              <li>3. Log the error for monitoring</li>
              <li>4. Continue serving (slower but works)</li>
            </ul>
            <p><strong>Code pattern:</strong></p>
            <ul>
              <li>
                try { return cache.Get("key"); } catch { return
                database.Get("key"); }
              </li>
            </ul>
            <p><strong>Improvements:</strong></p>
            <ul>
              <li>Use connection pooling with retry logic</li>
              <li>Azure Redis has 99.95% uptime SLA (rarely down)</li>
              <li>
                Set circuit breaker: If Redis fails 5 times, skip cache for 1
                min
              </li>
            </ul>
            <p>
              <strong>Impact:</strong> Cache miss = slower response, but app
              still works (degraded but not broken).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is cache stampede and how do you prevent it?
          </div>
          <div class="answer">
            <p><strong>Problem - Cache Stampede:</strong></p>
            <ul>
              <li>Popular item cached, expires at 10:00 AM</li>
              <li>
                At 10:00 AM, 1000 requests arrive simultaneously (cache miss)
              </li>
              <li>
                All 1000 hit database at once ‚Üí Database overload, crashes
              </li>
            </ul>
            <p><strong>Prevention strategies:</strong></p>
            <ul>
              <li>
                <strong>1. Staggered TTL:</strong> Add random offset to expiry
                (5-10 min variance)
              </li>
              <li>
                <strong>2. Lock pattern:</strong> First request regenerates
                cache while holding lock, others wait
              </li>
              <li>
                <strong>3. Refresh ahead:</strong> Refresh cache before expiry
                (10:00 - 1 min)
              </li>
              <li>
                <strong>4. Default value:</strong> If cache miss, return stale
                data temporarily, refresh in background
              </li>
            </ul>
            <p>
              <strong>Best approach:</strong> Combine refresh-ahead + background
              job to pre-warm cache.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 7: Azure Functions -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 7 ‚Äî Azure Functions (Serverless Layer)
          </div>
          <div class="section-description">Event-driven processing</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure Functions.
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Serverless compute - code runs
              without managing servers.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Write a function (C#, Python, JavaScript)</li>
              <li>2. Deploy to Azure Functions</li>
              <li>3. Set trigger (HTTP, Timer, Blob event, Queue message)</li>
              <li>4. Event happens ‚Üí Function executes ‚Üí Returns result</li>
              <li>5. You only pay for execution time (not idle time)</li>
            </ul>
            <p>
              <strong>Example:</strong> User uploads file ‚Üí Blob trigger ‚Üí
              Function processes ‚Üí Saves to database
            </p>
            <p>
              <strong>Benefits:</strong> No server management, pay per
              execution, scales automatically, simple deployment.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è∞</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: When should you use Azure Function instead of Web API?
          </div>
          <div class="answer">
            <p><strong>Use Azure Function for:</strong></p>
            <ul>
              <li>Short-lived operations (< 10 minutes)</li>
              <li>Event-driven tasks (file upload, message received)</li>
              <li>Scheduled jobs (cleanup every night)</li>
              <li>Low traffic, unpredictable load</li>
              <li>One-off operations (no continuous server needed)</li>
              <li>Cost-sensitive (only pay when it runs)</li>
            </ul>
            <p><strong>Use Web API (App Service) for:</strong></p>
            <ul>
              <li>Always-on service (24/7)</li>
              <li>Long-running operations (> 10 minutes)</li>
              <li>Complex business logic</li>
              <li>Consistent traffic (predictable)</li>
              <li>Real-time response expected</li>
              <li>Need custom runtime/libraries</li>
            </ul>
            <p>
              <strong>Example:</strong> API for user login ‚Üí App Service (always
              on). Resize image on upload ‚Üí Azure Function (event-driven).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >ü§î</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìå</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What are different trigger types?</div>
          <div class="answer">
            <p>
              <strong>HTTP Trigger:</strong> Runs when HTTP request received.
              Like a simple API endpoint.
            </p>
            <p>
              <strong>Timer Trigger:</strong> Runs on schedule (every 5 minutes,
              daily, etc.). Use for: Cleanup, backups, reports.
            </p>
            <p>
              <strong>Blob Trigger:</strong> Runs when file uploaded/modified.
              Use for: Process images, extract data from documents.
            </p>
            <p>
              <strong>Queue Trigger:</strong> Runs when message added to queue.
              Use for: Background jobs, process orders.
            </p>
            <p>
              <strong>Cosmos DB Trigger:</strong> Runs when document
              inserted/modified. Use for: Real-time data sync.
            </p>
            <p>
              <strong>Event Hub/Event Grid Trigger:</strong> Runs on events. Use
              for: Stream processing, event-driven architecture.
            </p>
            <p>
              <strong>Service Bus Trigger:</strong> Runs on message. Use for:
              Enterprise messaging.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is cold start?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Delay when function runs after being
              idle.
            </p>
            <p><strong>Why it happens:</strong></p>
            <ul>
              <li>Function not running ‚Üí No resources allocated</li>
              <li>
                Request comes in ‚Üí Azure allocates VM, starts runtime, loads
                code
              </li>
              <li>Takes 1-5 seconds for first execution (cold start)</li>
              <li>Subsequent requests: < 100ms (warm)</li>
            </ul>
            <p>
              <strong>Impact:</strong> User requests API ‚Üí Waits 3 seconds
              (frustrating).
            </p>
            <p>
              <strong>When it happens:</strong> Consumption plan (when idle),
              not Premium plan (always warm).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùÑÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is the difference between Consumption, Premium, and
            Dedicated plan?
          </div>
          <div class="answer">
            <p><strong>Consumption (Serverless):</strong> Pay per execution</p>
            <ul>
              <li>Cheapest for low traffic</li>
              <li>Cold starts (1-5 sec)</li>
              <li>Auto-scales from 0 to N instances</li>
              <li>Timeout: 5 minutes (short-lived only)</li>
              <li>Use for: Event-driven, unpredictable load</li>
            </ul>
            <p><strong>Premium:</strong> Pay monthly, always warm</p>
            <ul>
              <li>Predictable cost</li>
              <li>No cold starts (instances pre-warmed)</li>
              <li>Timeout: 30 minutes</li>
              <li>VNet support, more power</li>
              <li>Use for: Frequent invocations, need performance</li>
            </ul>
            <p>
              <strong>Dedicated (App Service Plan):</strong> Same as Web App
            </p>
            <ul>
              <li>Pay per server (whether used or not)</li>
              <li>Full control, like App Service</li>
              <li>No timeout limit</li>
              <li>Use for: Always-on requirements</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üí∞</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How does scaling work in Consumption plan?
          </div>
          <div class="answer">
            <p><strong>Automatic scaling based on demand:</strong></p>
            <ul>
              <li>No requests ‚Üí 0 instances (no cost)</li>
              <li>1 request ‚Üí 1 instance spins up (cold start)</li>
              <li>10 concurrent requests ‚Üí 2-3 instances (auto-scale)</li>
              <li>100 concurrent requests ‚Üí 10+ instances</li>
            </ul>
            <p>
              <strong>Scaling happens instantly:</strong> Azure detects load,
              adds instances within seconds.
            </p>
            <p>
              <strong>Scaling limits:</strong> Some regions have scaling limits
              (e.g., max 200 instances). Check docs.
            </p>
            <p>
              <strong>Cost implication:</strong> Burst in traffic = more
              instances = higher cost for that minute (but still less than
              paying for 10 always-on servers).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How do you avoid cold start?</div>
          <div class="answer">
            <p>
              <strong>Method 1 - Premium Plan:</strong> Use Premium tier (always
              warm, but costs more).
            </p>
            <p>
              <strong>Method 2 - Keep warm trigger:</strong> Add timer trigger
              that runs every 5 minutes to keep instances running.
            </p>
            <p><strong>Method 3 - Optimize code:</strong></p>
            <ul>
              <li>
                Remove unused dependencies (smaller package = faster load)
              </li>
              <li>Lazy load expensive libraries (load only when needed)</li>
              <li>Pre-compile code</li>
            </ul>
            <p>
              <strong>Method 4 - Dedicated plan:</strong> Use App Service plan
              instead of Consumption (not serverless, but always warm).
            </p>
            <p>
              <strong>Interview answer:</strong> For HTTP APIs, use Premium plan
              or Dedicated plan to avoid cold starts. For event-driven,
              Consumption is fine (client doesn't wait).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you secure an HTTP-triggered Function?
          </div>
          <div class="answer">
            <p><strong>Authentication methods:</strong></p>
            <ul>
              <li>
                <strong>Function key:</strong> Built-in API key, simple but less
                secure
              </li>
              <li>
                <strong>Azure AD:</strong> Integrate with Azure AD, OAuth tokens
              </li>
              <li>
                <strong>API Management:</strong> Put function behind APIM,
                control access there
              </li>
              <li><strong>IP restrictions:</strong> Only allow specific IPs</li>
              <li>
                <strong>CORS:</strong> Restrict which domains can call the
                function
              </li>
            </ul>
            <p><strong>Setup function key:</strong></p>
            <ul>
              <li>Go to Function ‚Üí App Keys ‚Üí Copy key</li>
              <li>
                Caller includes: ?code=XXXXXXX in URL or Authorization header
              </li>
            </ul>
            <p>
              <strong>For production:</strong> Use Azure AD (proper auth) + API
              Management (governance).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: When should you NOT use Azure Functions?
          </div>
          <div class="answer">
            <p><strong>Avoid Functions for:</strong></p>
            <ul>
              <li>
                <strong>Always-on APIs:</strong> Use App Service (Functions have
                execution time limits)
              </li>
              <li>
                <strong>Long-running jobs (> 30 min):</strong> Functions timeout
                (use Durable Functions or batch jobs)
              </li>
              <li>
                <strong>Complex state management:</strong> Functions are
                stateless (hard to maintain session)
              </li>
              <li>
                <strong>Real-time streaming:</strong> Not designed for
                continuous data streams
              </li>
              <li>
                <strong>Debugging complex logic:</strong> Harder to debug in
                serverless (use App Service)
              </li>
              <li>
                <strong>Multiple languages in one app:</strong> Each function
                can be different language (messy architecture)
              </li>
            </ul>
            <p>
              <strong>Use Durable Functions for:</strong> Long-running
              workflows, retries, fan-out/fan-in patterns (recommended over
              plain Functions).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 8: API Management -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">SECTION 8 ‚Äî API Management (APIM)</div>
          <div class="section-description">Enterprise API governance</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement APIM in front of
            microservices.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> Client ‚Üí APIM ‚Üí Microservice 1/2/3
            </p>
            <p>
              <strong>APIM role:</strong> Single entry point for all APIs,
              applies policies, manages access.
            </p>
            <p><strong>Setup steps:</strong></p>
            <ul>
              <li>1. Create API Management instance</li>
              <li>2. Create API in APIM (e.g., "User Service")</li>
              <li>3. Point to backend: App Service URL</li>
              <li>4. Add operations: GET /users, POST /users</li>
              <li>5. Add policies: Rate limit, authentication, logging</li>
              <li>6. Clients call APIM endpoint, not App Service directly</li>
              <li>7. APIM forwards request to backend, returns response</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Centralized API management, consistent
              policies across all APIs, security enforcement, analytics.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What problem does APIM solve?</div>
          <div class="answer">
            <p>
              <strong>Problem 1 - Multiple APIs, no control:</strong> Each
              microservice exposed directly. No unified management.
            </p>
            <p>
              <strong>Problem 2 - No API versioning:</strong> Break clients by
              changing API (nightmare).
            </p>
            <p>
              <strong>Problem 3 - No rate limiting:</strong> One bad client
              makes 10,000 requests, crashes server.
            </p>
            <p>
              <strong>Problem 4 - No authentication layer:</strong> Each API
              implements auth separately (inconsistent).
            </p>
            <p>
              <strong>Problem 5 - No monitoring:</strong> Don't know which APIs
              are slow or failing.
            </p>
            <p>
              <strong>Problem 6 - No caching:</strong> Expensive queries
              repeated unnecessarily.
            </p>
            <p>
              <strong>APIM Solution:</strong> Single gateway enforces all
              policies, versioning, security, monitoring, caching.
            </p>
            <p>
              <strong>Real example:</strong> V1 API has 1000 clients. You want
              to release V2. With APIM, route 20% to V2, 80% to V1 (gradual
              migration).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üöß</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How is APIM different from App Service?</div>
          <div class="answer">
            <p>
              <strong>App Service:</strong> Hosts your API code (the API
              itself).
            </p>
            <ul>
              <li>You write C#, deploy it, it runs</li>
              <li>Handles requests directly</li>
              <li>Scaling, monitoring built-in</li>
            </ul>
            <p>
              <strong>APIM:</strong> Gateway/proxy in front of APIs (controls
              access to APIs).
            </p>
            <ul>
              <li>You don't write code in APIM</li>
              <li>It forwards requests to backend (App Service)</li>
              <li>Adds policies (rate limit, auth, logging)</li>
              <li>Doesn't host code, just manages access</li>
            </ul>
            <p>
              <strong>Analogy:</strong> App Service = Restaurant kitchen. APIM =
              Receptionist who checks reservations and seats guests.
            </p>
            <p>
              <strong>Can they work together?</strong> Yes! App Service runs
              API, APIM sits in front for governance.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÄ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What are policies in APIM?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Rules applied to API
              requests/responses.
            </p>
            <p><strong>Common policies:</strong></p>
            <ul>
              <li>
                <strong>Rate Limit:</strong> Max 100 requests per minute per
                user
              </li>
              <li>
                <strong>Authentication:</strong> Validate API key or OAuth token
              </li>
              <li><strong>Caching:</strong> Cache response for 1 hour</li>
              <li>
                <strong>Logging:</strong> Log all requests to Application
                Insights
              </li>
              <li>
                <strong>Rewrite URL:</strong> Change request before sending to
                backend
              </li>
              <li>
                <strong>Set Header:</strong> Add custom header (tracing ID,
                etc.)
              </li>
              <li><strong>Transform:</strong> Convert XML to JSON, etc.</li>
            </ul>
            <p>
              <strong>When applied:</strong> Inbound (before backend), Outbound
              (after backend), On Error (if backend fails).
            </p>
            <p>
              <strong>Example policy setup:</strong> Inbound ‚Üí Check API key ‚Üí
              Rate limit ‚Üí Log request ‚Üí Forward to backend
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìã</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is rate limiting and why is it important?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Limit how many requests a client can
              make in time period.
            </p>
            <p>
              <strong>Example:</strong> Max 1000 requests per hour per API key
            </p>
            <p><strong>Why it's important:</strong></p>
            <ul>
              <li>
                Prevent abuse: Attacker can't flood your API with 1M requests
              </li>
              <li>Fair usage: Each customer gets fair share of resources</li>
              <li>
                Cost control: Don't bankrupt yourself with excessive usage
              </li>
              <li>Protect backend: Database doesn't get overloaded</li>
            </ul>
            <p>
              <strong>What happens when limit exceeded:</strong> Request
              rejected with HTTP 429 (Too Many Requests)
            </p>
            <p>
              <strong>Setup in APIM:</strong> Add "Rate Limit" policy ‚Üí Set
              limit (e.g., 100 per minute) ‚Üí Choose scope (per user, per
              product, etc.)
            </p>
            <p>
              <strong>Real example:</strong> Free tier = 100/min, Premium tier =
              10,000/min (like Stripe pricing).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üö¶</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How does APIM improve security?</div>
          <div class="answer">
            <p><strong>Security layers:</strong></p>
            <ul>
              <li>
                <strong>API key validation:</strong> Only authenticated clients
                access APIs
              </li>
              <li>
                <strong>OAuth 2.0/OpenID:</strong> Enterprise auth (Azure AD
                integration)
              </li>
              <li>
                <strong>IP restrictions:</strong> Only allow requests from
                specific IPs
              </li>
              <li>
                <strong>CORS policy:</strong> Only allow requests from trusted
                domains
              </li>
              <li>
                <strong>SSL/TLS:</strong> Encrypt traffic (HTTPS enforced)
              </li>
              <li>
                <strong>Threat protection:</strong> Detect and block malicious
                payloads
              </li>
              <li>
                <strong>DDoS protection:</strong> Distributed Denial of Service
                filtering
              </li>
              <li>
                <strong>WAF (Web Application Firewall):</strong> Prevent SQL
                injection, XSS, etc.
              </li>
            </ul>
            <p>
              <strong>Centralized security:</strong> Define once, apply to all
              APIs (consistency).
            </p>
            <p>
              <strong>Backend isolation:</strong> Attackers don't see your
              actual App Service (hidden behind APIM).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you secure APIs using OAuth in APIM?
          </div>
          <div class="answer">
            <p><strong>OAuth flow with APIM:</strong></p>
            <ul>
              <li>1. Client requests access token from Azure AD</li>
              <li>2. Azure AD returns token (JWT)</li>
              <li>3. Client calls APIM with token in Authorization header</li>
              <li>4. APIM validates token (checks signature, expiry)</li>
              <li>
                5. If valid, forwards to backend; if invalid, rejects (401)
              </li>
            </ul>
            <p><strong>Setup in APIM:</strong></p>
            <ul>
              <li>Create Azure AD app registration</li>
              <li>In APIM, add "Validate JWT" policy</li>
              <li>Set expected issuer, audience, secret key</li>
              <li>Policy validates every incoming request</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Stateless (no session database),
              scalable, tokens auto-expire, can verify on frontend/backend.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement API versioning using APIM?
          </div>
          <div class="answer">
            <p><strong>Versioning strategies:</strong></p>
            <ul>
              <li>
                <strong>URL-based:</strong> /api/v1/users vs /api/v2/users
              </li>
              <li><strong>Header-based:</strong> Header: API-Version: 2</li>
              <li><strong>Query-based:</strong> /api/users?version=2</li>
            </ul>
            <p><strong>APIM versioning flow:</strong></p>
            <ul>
              <li>1. Create API with version: api/v1</li>
              <li>2. Set versioning scheme (URL path recommended)</li>
              <li>3. Create version set: v1 (backend 1), v2 (backend 2)</li>
              <li>4. Route different versions to different backends</li>
              <li>5. Clients call /api/v1/users ‚Üí Gets v1 response</li>
            </ul>
            <p><strong>Migration strategy:</strong></p>
            <ul>
              <li>Release V2 alongside V1 (both live)</li>
              <li>Gradually migrate clients from V1 to V2</li>
              <li>Once all migrated, deprecate V1</li>
              <li>No breaking changes for existing clients</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: When would APIM be unnecessary?</div>
          <div class="answer">
            <p><strong>Skip APIM for:</strong></p>
            <ul>
              <li>
                <strong>Single API (not multiple):</strong> Only one service, no
                need for gateway
              </li>
              <li>
                <strong>No versioning needed:</strong> Never break API, always
                backward compatible
              </li>
              <li>
                <strong>No rate limiting:</strong> Trust your users, no abuse
                concerns
              </li>
              <li>
                <strong>Internal APIs only:</strong> Private network, no
                external clients
              </li>
              <li>
                <strong>Simple API with basic auth:</strong> One-off projects,
                not enterprise
              </li>
              <li>
                <strong>Startup MVP:</strong> Need to move fast, add complexity
                later
              </li>
            </ul>
            <p>
              <strong>APIM cost:</strong> Minimum ~$1/day (can be expensive for
              small projects).
            </p>
            <p>
              <strong>Alternative:</strong> Implement rate limiting, versioning,
              auth in code (more work, less scalable).
            </p>
            <p>
              <strong>Rule of thumb:</strong> Multiple microservices + external
              clients ‚Üí Use APIM. Single API + internal use ‚Üí Skip APIM.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üí∞</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is the difference between APIM and Application Gateway?
          </div>
          <div class="answer">
            <p><strong>APIM (API Management):</strong> Manages APIs</p>
            <ul>
              <li>API-specific (REST, OpenAPI, etc.)</li>
              <li>Policies, rate limiting, versioning, developer portal</li>
              <li>Works at application layer (Layer 7)</li>
              <li>Use for: Microservices, external APIs, API marketplace</li>
            </ul>
            <p><strong>Application Gateway:</strong> Load balancer</p>
            <ul>
              <li>Works at network layer (Layer 4-7)</li>
              <li>Distributes traffic across backends</li>
              <li>WAF, SSL termination, path-based routing</li>
              <li>
                Use for: High availability, load balancing, basic security
              </li>
            </ul>
            <p>
              <strong>Can they work together?</strong> Yes! Application Gateway
              as front-end load balancer ‚Üí APIM as API gateway (governance) ‚Üí
              Backend services.
            </p>
            <p>
              <strong>Simple answer:</strong> APIM = API-specific management.
              Application Gateway = General load balancing.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öñÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 9: Monitoring -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 9 ‚Äî Monitoring (Application Insights & Log Analytics)
          </div>
          <div class="section-description">Observability</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Application
            Insights.
          </div>
          <div class="answer">
            <p>
              <strong>Flow:</strong> App generates data ‚Üí Application Insights
              collects ‚Üí Visualized in Portal
            </p>
            <p><strong>Setup steps:</strong></p>
            <ul>
              <li>1. Create Application Insights resource in Azure</li>
              <li>2. Get Instrumentation Key (like API key)</li>
              <li>
                3. In .NET app, install NuGet: Microsoft.ApplicationInsights
              </li>
              <li>
                4. Add to startup: services.AddApplicationInsightsTelemetry()
              </li>
              <li>
                5. App automatically sends telemetry to Application Insights
              </li>
              <li>6. View metrics/logs in Azure Portal</li>
            </ul>
            <p>
              <strong>Data collected:</strong> Requests, responses, exceptions,
              performance, dependencies, custom events
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you integrate Application Insights with ASP.NET Core?
          </div>
          <div class="answer">
            <p>
              <strong>Step 1 - Install NuGet:</strong> Install-Package
              Microsoft.ApplicationInsights.AspNetCore
            </p>
            <p><strong>Step 2 - Configure in appsettings.json:</strong></p>
            <ul>
              <li>
                "ApplicationInsights": { "InstrumentationKey": "xxxxx-xxxxx" }
              </li>
            </ul>
            <p><strong>Step 3 - Add to Startup.cs:</strong></p>
            <ul>
              <li>services.AddApplicationInsightsTelemetry(configuration);</li>
            </ul>
            <p><strong>Step 4 - Custom logging:</strong></p>
            <ul>
              <li>Inject ILogger&lt;HomeController&gt; logger;</li>
              <li>logger.LogInformation("User logged in");</li>
              <li>logger.LogError("Database error", exception);</li>
            </ul>
            <p>
              <strong>Step 5 - Run app:</strong> Logs automatically sent to
              Application Insights
            </p>
            <p>
              <strong>View in Portal:</strong> Application Insights ‚Üí Logs ‚Üí Run
              KQL query to search
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What metrics are important to monitor?</div>
          <div class="answer">
            <p><strong>Performance Metrics:</strong></p>
            <ul>
              <li>
                <strong>Response Time:</strong> Should be < 200ms. If > 500ms,
                slow
              </li>
              <li>
                <strong>Request Rate:</strong> Requests per minute. Spike =
                traffic increase
              </li>
              <li>
                <strong>CPU/Memory:</strong> Should be < 70%. If > 90%, scale up
              </li>
              <li>
                <strong>Availability:</strong> Should be > 99.5%. Less = outages
              </li>
            </ul>
            <p><strong>Reliability Metrics:</strong></p>
            <ul>
              <li>
                <strong>Error Rate:</strong> % of failed requests. Should be <
                1%
              </li>
              <li>
                <strong>Exception Count:</strong> Number of errors. < 10/min
                ideal
              </li>
              <li>
                <strong>Failed Dependencies:</strong> DB/API calls that fail.
                Should be 0
              </li>
            </ul>
            <p><strong>Business Metrics:</strong></p>
            <ul>
              <li><strong>User Sessions:</strong> Active users at any time</li>
              <li><strong>Page Views:</strong> Traffic to specific pages</li>
              <li>
                <strong>Conversion Rate:</strong> % completing desired action
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How do you track failed requests?</div>
          <div class="answer">
            <p>
              <strong>Application Insights auto-tracks failed requests:</strong>
            </p>
            <ul>
              <li>Any HTTP response 400+ automatically logged</li>
              <li>Any unhandled exception caught and logged</li>
            </ul>
            <p><strong>View in Portal:</strong></p>
            <ul>
              <li>Application Insights ‚Üí Failures blade</li>
              <li>See: Exception type, stack trace, affected users, impact</li>
            </ul>
            <p><strong>Custom tracking:</strong></p>
            <ul>
              <li>logger.LogError("Custom error", ex);</li>
              <li>telemetryClient.TrackException(exception);</li>
            </ul>
            <p><strong>Find root cause:</strong></p>
            <ul>
              <li>Click failed request ‚Üí See stack trace</li>
              <li>Check what code line threw error</li>
              <li>See context: Request, user, timestamp</li>
            </ul>
            <p><strong>Set alert:</strong> If error rate > 5%, send email</p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîç</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is distributed tracing?</div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Request goes through many services.
              Which one is slow?
            </p>
            <ul>
              <li>
                Client ‚Üí API (10ms) ‚Üí Auth Service (200ms) ‚Üí DB (50ms) ‚Üí Total
                260ms
              </li>
              <li>
                Auth Service is bottleneck, but hard to see without tracing
              </li>
            </ul>
            <p>
              <strong>Solution - Distributed Tracing:</strong> Track request
              through all services with unique ID (correlation ID)
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Request arrives, generate CorrelationId: "abc123"</li>
              <li>2. Pass to all services: Auth, DB, Cache (same ID)</li>
              <li>3. Each service logs its work with CorrelationId</li>
              <li>4. View all logs for "abc123" in Application Insights</li>
              <li>
                5. See timeline: Service A took 10ms, B took 200ms, C took 50ms
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Find bottlenecks, debug issues,
              understand system flow
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you correlate logs across microservices?
          </div>
          <div class="answer">
            <p><strong>Implementation:</strong></p>
            <ul>
              <li>
                1. Each request gets unique ID (CorrelationId) at entry point
              </li>
              <li>2. Pass in HTTP headers: X-Correlation-ID: abc123</li>
              <li>3. Each service extracts and includes in all logs</li>
              <li>
                4. Database queries, external API calls ‚Üí Include correlation ID
              </li>
              <li>
                5. Query Application Insights: Find all logs with CorrelationId
                = abc123
              </li>
            </ul>
            <p><strong>In .NET code:</strong></p>
            <ul>
              <li>
                Read from header: var correlationId =
                request.Headers["X-Correlation-ID"];
              </li>
              <li>
                Log with it: logger.LogInformation($"[{correlationId}]
                Processing user");
              </li>
              <li>Pass to dependent services in requests</li>
            </ul>
            <p>
              <strong>Query in Application Insights:</strong> Search by
              customDimensions.CorrelationId = "abc123"
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Log Analytics?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Centralized repository for logs from
              all Azure services.
            </p>
            <p>
              <strong>What it stores:</strong> Logs from Application Insights,
              VMs, Databases, Firewalls, etc.
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Services send logs to Log Analytics workspace</li>
              <li>
                2. Logs stored in tables (AppRequests, AppExceptions, etc.)
              </li>
              <li>3. Query with KQL (Kusto Query Language) - like SQL</li>
              <li>4. Create dashboards, alerts based on queries</li>
            </ul>
            <p><strong>Example KQL query:</strong></p>
            <ul>
              <li>AppRequests | where ResponseCode == 500 | count</li>
              <li>(Find all 500 errors)</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Unified logging, powerful querying,
              cost-effective (pay per GB), retention policies
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìã</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîç</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How do you analyze slow endpoints?</div>
          <div class="answer">
            <p><strong>Step 1 - Identify slow endpoints:</strong></p>
            <ul>
              <li>
                Application Insights ‚Üí Performance ‚Üí See avg response time per
                endpoint
              </li>
              <li>Sort by response time, identify slowest</li>
            </ul>
            <p><strong>Step 2 - Drill into slow endpoint:</strong></p>
            <ul>
              <li>
                Click endpoint ‚Üí See distribution: 99% < 100ms, 1% > 5 seconds
              </li>
              <li>Check if consistently slow or intermittent spikes</li>
            </ul>
            <p><strong>Step 3 - View dependency calls:</strong></p>
            <ul>
              <li>Which calls are slow? DB query, external API, cache miss?</li>
              <li>
                Example: API calls DB ‚Üí 500ms. Database query is bottleneck
              </li>
            </ul>
            <p><strong>Step 4 - Root cause analysis:</strong></p>
            <ul>
              <li>Check Database Query Performance Insights</li>
              <li>Missing index? Bad query plan? Lock contention?</li>
            </ul>
            <p>
              <strong>Step 5 - Fix:</strong> Add index, optimize query, increase
              resources
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you set alerts for critical failures?
          </div>
          <div class="answer">
            <p><strong>Create alert in Application Insights:</strong></p>
            <ul>
              <li>1. Go to Application Insights ‚Üí Alerts ‚Üí New Alert Rule</li>
              <li>2. Set condition: Error rate > 5% OR Availability < 95%</li>
              <li>3. Set duration: For last 5 minutes</li>
              <li>4. Set action: Send email to team</li>
            </ul>
            <p><strong>Example alerts:</strong></p>
            <ul>
              <li>Response time > 1000ms ‚Üí Critical, page too slow</li>
              <li>Exception count > 20/min ‚Üí Error spike, investigate</li>
              <li>Availability < 90% ‚Üí Outage, wake on-call engineer</li>
              <li>Failed dependencies > 0 ‚Üí DB/API down, urgent</li>
            </ul>
            <p><strong>Alert actions:</strong></p>
            <ul>
              <li>Email: Notify team immediately</li>
              <li>SMS: Critical alerts only (wake someone at 3 AM)</li>
              <li>PagerDuty/Slack: Integrate with incident management</li>
            </ul>
            <p>
              <strong>Avoid alert fatigue:</strong> Set thresholds realistically
              (don't alert on every spike).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üö®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìß</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 10: CI/CD & Deployment -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">SECTION 10 ‚Äî CI/CD & Deployment</div>
          <div class="section-description">DevOps layer</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall CI/CD flow for deploying a .NET API to Azure.
          </div>
          <div class="answer">
            <p>
              <strong>Flow:</strong> Code commit ‚Üí Build ‚Üí Test ‚Üí Deploy to
              Staging ‚Üí Test ‚Üí Deploy to Production
            </p>
            <p><strong>Step-by-step:</strong></p>
            <ul>
              <li>1. Developer commits to GitHub/Azure Repos</li>
              <li>2. Azure DevOps Pipeline triggered automatically</li>
              <li>
                3. Build stage: Compile .NET, run unit tests, create artifact
                (DLL)
              </li>
              <li>4. Deploy to Staging: Deploy artifact to Staging slot</li>
              <li>5. Smoke tests: Run integration tests on Staging</li>
              <li>6. Deploy to Production: Swap slots (instant switch)</li>
              <li>7. Monitor: Check logs for errors</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Automated, repeatable, reduces human
              error, fast deployments, easy rollback
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is the difference between CI and CD?
          </div>
          <div class="answer">
            <p>
              <strong>CI (Continuous Integration):</strong> Automatically build
              and test code on every commit
            </p>
            <ul>
              <li>Merge code from many developers multiple times per day</li>
              <li>Run automated tests immediately</li>
              <li>Catch issues early (broken code found within minutes)</li>
              <li>Goal: Ensure code quality</li>
            </ul>
            <p>
              <strong>CD (Continuous Deployment/Delivery):</strong>
              Automatically deploy tested code to production
            </p>
            <ul>
              <li>Delivery: Deploy to staging, manual approval to prod</li>
              <li>Deployment: Auto-deploy to prod without approval</li>
              <li>Goal: Get features to users fast</li>
            </ul>
            <p>
              <strong>Full pipeline:</strong> CI/CD = Build + Test (CI) + Deploy
              (CD) = Automated everything
            </p>
            <p>
              <strong>Real example:</strong> Commit code ‚Üí Passes tests ‚Üí
              Auto-deploys to prod in 10 minutes
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is a multi-stage pipeline?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Pipeline with multiple sequential
              stages (Build, Test, Deploy Staging, Deploy Prod)
            </p>
            <p><strong>Typical stages:</strong></p>
            <ul>
              <li>
                <strong>Build:</strong> Compile code, resolve dependencies,
                create artifact
              </li>
              <li>
                <strong>Test:</strong> Run unit tests, integration tests, code
                coverage
              </li>
              <li>
                <strong>Deploy to Staging:</strong> Deploy to test environment
              </li>
              <li><strong>Smoke Tests:</strong> Quick validation on Staging</li>
              <li>
                <strong>Approve:</strong> Manual approval before production
                (optional)
              </li>
              <li>
                <strong>Deploy to Production:</strong> Deploy to live
                environment
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Each stage must pass before next.
              Ensures quality. Can fail fast.
            </p>
            <p>
              <strong>Example failure:</strong> Build fails ‚Üí Stop. Don't deploy
              broken code. Developer fixes ‚Üí Retry
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you deploy .NET API using Azure DevOps pipeline?
          </div>
          <div class="answer">
            <p>
              <strong>Setup Azure DevOps Repo:</strong> Push code to Azure Repos
              or GitHub
            </p>
            <p>
              <strong>Create Pipeline YAML:</strong> azure-pipelines.yml in root
              of repo
            </p>
            <p><strong>Build stage:</strong></p>
            <ul>
              <li>- task: UseDotNet@2 (use .NET 6)</li>
              <li>- task: DotNetCoreCLI@2 (build, test)</li>
              <li>- task: PublishBuildArtifacts@1 (save artifact)</li>
            </ul>
            <p><strong>Deploy stage:</strong></p>
            <ul>
              <li>- task: AzureWebApp@1 (deploy to App Service)</li>
              <li>- ConnectionType: Azure Resource Manager</li>
              <li>- AppName: MyAppService</li>
              <li>- Package: $(Build.ArtifactStagingDirectory)</li>
            </ul>
            <p>
              <strong>Run pipeline:</strong> Commit YAML ‚Üí Pipeline
              auto-triggers ‚Üí Build + Deploy
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üî®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you manage environment-specific settings?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> DB connection string different for
              staging vs production
            </p>
            <p><strong>Solution - Environment Variables:</strong></p>
            <ul>
              <li>Never hardcode in code</li>
              <li>Use environment-specific appsettings.json files</li>
              <li>
                In pipeline, set variables: ASPNETCORE_ENVIRONMENT=Staging
              </li>
              <li>App loads appsettings.Staging.json</li>
            </ul>
            <p><strong>In Azure DevOps Pipeline:</strong></p>
            <ul>
              <li>variables:</li>
              <li>&nbsp;&nbsp;Environment: 'Staging' # or 'Production'</li>
              <li>
                Inject during deployment: -e
                ASPNETCORE_ENVIRONMENT=$(Environment)
              </li>
            </ul>
            <p>
              <strong>For secrets (passwords, API keys):</strong> Use Key Vault
              or Azure DevOps Variable Groups (encrypted)
            </p>
            <p>
              <strong>Best practice:</strong> Config in App Settings, Secrets in
              Key Vault, Pipeline manages environment-specific values
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do deployment slots help in zero-downtime deployment?
          </div>
          <div class="answer">
            <p>
              <strong>Without slots:</strong> Old app serving users ‚Üí Deploy new
              app ‚Üí App goes down for few seconds ‚Üí Users see error
            </p>
            <p><strong>With slots:</strong></p>
            <ul>
              <li>1. Staging slot has old app running</li>
              <li>
                2. Deploy new app to Staging slot (doesn't affect Production)
              </li>
              <li>3. Production still serves users with old app</li>
              <li>4. Test new app on Staging</li>
              <li>
                5. Swap Staging ‚Üî Production (instant, at load balancer level)
              </li>
              <li>6. Production now runs new app, Staging has old app</li>
              <li>7. No user sees downtime</li>
            </ul>
            <p>
              <strong>Rollback:</strong> If issue, swap back immediately (old
              app back to production)
            </p>
            <p>
              <strong>Duration:</strong> Swap takes < 1 second (network level,
              not app restart)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you rollback a failed deployment?
          </div>
          <div class="answer">
            <p><strong>Using Deployment Slots:</strong></p>
            <ul>
              <li>1. New version deployed, something breaks</li>
              <li>2. Immediately swap Production ‚Üî Staging (swap back)</li>
              <li>3. Old version back to production within seconds</li>
              <li>4. Users never knew there was issue</li>
            </ul>
            <p><strong>Using Deployment History:</strong></p>
            <ul>
              <li>Go to App Service ‚Üí Deployments ‚Üí Choose previous version</li>
              <li>Click "Redeploy" to go back to that version</li>
            </ul>
            <p><strong>Using Pipeline Triggers:</strong></p>
            <ul>
              <li>Run previous successful build in pipeline</li>
              <li>Deploy that artifact to prod</li>
            </ul>
            <p>
              <strong>Database rollback:</strong> If schema changed, must
              manually revert (why test migrations on staging first)
            </p>
            <p>
              <strong>Best practice:</strong> Always test on staging before
              deploying. Keep slots warm so rollback is instant.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚Ü©Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚èÆÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you store secrets securely in pipelines?
          </div>
          <div class="answer">
            <p><strong>Wrong way:</strong> Hardcode in pipeline YAML file</p>
            <ul>
              <li>- task: deploy</li>
              <li>&nbsp;&nbsp;password: "MyPassword123" ‚ùå EXPOSED!</li>
            </ul>
            <p><strong>Right ways:</strong></p>
            <ul>
              <li>
                <strong>1. Azure DevOps Variable Groups:</strong> Store
                encrypted secrets in Azure DevOps ‚Üí Reference in pipeline
              </li>
              <li>
                <strong>2. Key Vault:</strong> Store in Key Vault ‚Üí Pipeline
                reads during execution
              </li>
              <li>
                <strong>3. Pipeline Secrets:</strong> Define secret variable in
                YAML ‚Üí Encrypted by default
              </li>
            </ul>
            <p><strong>Example with Key Vault:</strong></p>
            <ul>
              <li>- task: AzureKeyVault@1</li>
              <li>&nbsp;&nbsp;vaultName: 'MyKeyVault'</li>
              <li>&nbsp;&nbsp;secretsFilter: 'db-password'</li>
              <li>- Use: $(db-password) in deploy task (secure, not logged)</li>
            </ul>
            <p>
              <strong>Best practice:</strong> Always use Key Vault for
              production secrets (most secure).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Infrastructure as Code (ARM/Bicep)?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Define Azure infrastructure in code
              (not manual clicks in Portal).
            </p>
            <p><strong>Benefits:</strong></p>
            <ul>
              <li>Repeatable: Deploy same infra in multiple regions</li>
              <li>Versionable: Track changes in Git</li>
              <li>Documented: Code shows what infrastructure exists</li>
              <li>Testable: Validate before deploying</li>
            </ul>
            <p><strong>Tools:</strong></p>
            <ul>
              <li>
                <strong>ARM (Azure Resource Manager):</strong> JSON format
                (verbose)
              </li>
              <li>
                <strong>Bicep:</strong> Simpler syntax, compiles to ARM
                (recommended)
              </li>
            </ul>
            <p><strong>Example Bicep:</strong></p>
            <ul>
              <li>param appServiceName string = 'myapp'</li>
              <li>
                resource appService 'Microsoft.Web/sites@2021-02-01' = { ... }
              </li>
              <li>
                Defines: App Service, SQL Database, Storage, VNet all in code
              </li>
            </ul>
            <p>
              <strong>Deployment:</strong> Deploy via CLI or Pipeline: az
              deployment group create --template-file main.bicep
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üèóÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is blue-green deployment?</div>
          <div class="answer">
            <p>
              <strong>Concept:</strong> Two identical production environments
              (Blue, Green). Switch between them.
            </p>
            <p><strong>Flow:</strong></p>
            <ul>
              <li>Blue (current): Old app serving 100% traffic</li>
              <li>Deploy new version to Green</li>
              <li>Test Green (fully, in production environment)</li>
              <li>Switch traffic: Blue ‚Üí Green (instant)</li>
              <li>If issue, switch back: Green ‚Üí Blue</li>
            </ul>
            <p>
              <strong>Difference from Slots:</strong> Slots are within same App
              Service. Blue-Green are separate identical environments (more
              expensive but more control).
            </p>
            <p><strong>Setup:</strong></p>
            <ul>
              <li>Create 2 App Services: AppServiceBlue, AppServiceGreen</li>
              <li>Traffic Manager routes to one (can switch)</li>
              <li>Deploy to inactive one, test, then switch</li>
            </ul>
            <p>
              <strong>Cost:</strong> Double infrastructure cost (running 2
              apps). Worth for mission-critical systems.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîµ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíö</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is canary deployment?</div>
          <div class="answer">
            <p>
              <strong>Concept:</strong> Gradually shift traffic from old to new
              version (not instant).
            </p>
            <p><strong>Flow:</strong></p>
            <ul>
              <li>1. Old app serving 100% traffic</li>
              <li>2. Deploy new app, route 10% traffic to it</li>
              <li>3. Monitor errors on new version</li>
              <li>4. If no errors, increase to 25% traffic</li>
              <li>5. Continue: 50% ‚Üí 75% ‚Üí 100%</li>
              <li>6. If errors at any step, revert (rollback to 0%)</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Catch issues with 10% of users before
              affecting everyone. Gradual rollout = safer.
            </p>
            <p>
              <strong>Tools:</strong> Azure Traffic Manager, APIM with routing
              policies, Kubernetes Istio
            </p>
            <p>
              <strong>Duration:</strong> Can take hours (depends on monitoring
              and comfort level)
            </p>
            <p>
              <strong>Interview answer:</strong> Blue-green for quick switch.
              Canary for safety with gradual shift.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üê¶</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 11: Azure Container Registry & AKS -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 11 ‚Äî Azure Container Registry & AKS (Containerization &
            Orchestration)
          </div>
          <div class="section-description">Microservices deployment layer</div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow of containerizing a .NET API and
            deploying to AKS.
          </div>
          <div class="answer">
            <p>
              <strong>Flow:</strong> .NET API ‚Üí Docker Image ‚Üí ACR ‚Üí AKS Cluster
              ‚Üí Running Pods
            </p>
            <p><strong>Step-by-step:</strong></p>
            <ul>
              <li>
                1. Create Dockerfile in .NET project (define app environment,
                dependencies)
              </li>
              <li>2. Build Docker image locally: docker build -t myapp:v1 .</li>
              <li>3. Create Azure Container Registry (ACR) to store images</li>
              <li>
                4. Push image to ACR: docker push myregistry.azurecr.io/myapp:v1
              </li>
              <li>5. Create AKS cluster (Kubernetes on Azure)</li>
              <li>
                6. Create Kubernetes manifests (YAML): Deployment, Service,
                ConfigMap, Secret
              </li>
              <li>7. Deploy to AKS: kubectl apply -f deployment.yaml</li>
              <li>
                8. Kubernetes automatically runs containers in pods, scales, and
                manages traffic
              </li>
            </ul>
            <p>
              <strong>Benefits:</strong> Consistent environment (dev = prod),
              easy scaling, automatic healing, easy rollback
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üê≥</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ò∏Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Docker and why use it?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Docker packages your app +
              dependencies into a container (isolated environment).
            </p>
            <p><strong>Problem it solves:</strong></p>
            <ul>
              <li>
                "Works on my machine but not on server" ‚Üí Solved. Container runs
                same everywhere.
              </li>
              <li>
                Dependency conflicts ‚Üí Solved. Each container has its own
                dependencies.
              </li>
              <li>
                Slow deployment ‚Üí Solved. Just copy container, no installation.
              </li>
            </ul>
            <p><strong>Docker components:</strong></p>
            <ul>
              <li>
                <strong>Dockerfile:</strong> Blueprint for container (like
                recipe)
              </li>
              <li>
                <strong>Docker Image:</strong> Snapshot of app + OS +
                dependencies (immutable)
              </li>
              <li>
                <strong>Docker Container:</strong> Running instance of image
                (like process)
              </li>
            </ul>
            <p><strong>Example Dockerfile:</strong></p>
            <ul>
              <li>FROM mcr.microsoft.com/dotnet/sdk:6.0 (start with .NET 6)</li>
              <li>COPY . /app (copy app files)</li>
              <li>RUN dotnet build (compile)</li>
              <li>ENTRYPOINT ["dotnet", "MyApp.dll"] (run app)</li>
            </ul>
            <p>
              <strong>Why use it:</strong> Consistency, isolation, scalability,
              easy deployment
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üê≥</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Azure Container Registry (ACR)?</div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Private Docker registry to store,
              manage, and version your container images.
            </p>
            <p><strong>What it does:</strong></p>
            <ul>
              <li>Store Docker images (like GitHub but for containers)</li>
              <li>
                Version images: myregistry.azurecr.io/myapp:v1, :v2, :latest
              </li>
              <li>Private access (only authorized users/services can pull)</li>
              <li>
                Integrate with AKS (AKS can pull images from ACR directly)
              </li>
            </ul>
            <p><strong>Why ACR vs Docker Hub:</strong></p>
            <ul>
              <li>Docker Hub: Public (anyone can see your image)</li>
              <li>ACR: Private (only your subscription)</li>
              <li>ACR: Integrated with Azure services (fast pull from AKS)</li>
            </ul>
            <p><strong>Usage:</strong></p>
            <ul>
              <li>Push image: docker push myregistry.azurecr.io/myapp:v1</li>
              <li>Pull image: docker pull myregistry.azurecr.io/myapp:v1</li>
              <li>
                View images: Azure Portal ‚Üí Container Registry ‚Üí Repositories
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Kubernetes (K8s) and AKS?</div>
          <div class="answer">
            <p>
              <strong>Kubernetes:</strong> Open-source container orchestration
              platform (manages containers at scale).
            </p>
            <p><strong>What Kubernetes does:</strong></p>
            <ul>
              <li>Scheduling: Run containers on available nodes (servers)</li>
              <li>Scaling: Auto-scale pods based on CPU/memory load</li>
              <li>Self-healing: Restart failed containers automatically</li>
              <li>Rolling updates: Deploy new version without downtime</li>
              <li>Load balancing: Distribute traffic across pods</li>
              <li>Storage management: Persistent volumes for data</li>
            </ul>
            <p>
              <strong>AKS (Azure Kubernetes Service):</strong> Managed
              Kubernetes on Azure (Microsoft manages control plane).
            </p>
            <p>
              <strong>You only manage:</strong> Worker nodes (VMs where
              containers run)
            </p>
            <p>
              <strong>Azure manages:</strong> Master/control plane (API server,
              scheduler, etcd)
            </p>
            <p>
              <strong>AKS vs App Service:</strong> App Service = simpler, single
              app. AKS = microservices, complex orchestration, auto-scaling at
              scale.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ò∏Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What are Pods, Deployments, and Services in Kubernetes?
          </div>
          <div class="answer">
            <p>
              <strong>Pod:</strong> Smallest deployable unit (one or more
              containers sharing network)
            </p>
            <ul>
              <li>Usually 1 container = 1 pod</li>
              <li>All containers in pod share IP address</li>
              <li>Ephemeral (temporary, can be deleted/recreated)</li>
              <li>Don't deploy pods directly, use Deployments</li>
            </ul>
            <p>
              <strong>Deployment:</strong> Manages replica sets (ensures X pods
              always running)
            </p>
            <ul>
              <li>Define: Image, replicas (3), CPU/memory limits</li>
              <li>Kubernetes ensures 3 pods running at all times</li>
              <li>If pod dies, automatically creates new one</li>
              <li>
                Rolling updates: Replace old pods with new version gradually
              </li>
            </ul>
            <p>
              <strong>Service:</strong> Exposes pods to network (stable IP/DNS)
            </p>
            <ul>
              <li>Pods get random IPs (unreliable)</li>
              <li>
                Service provides stable DNS:
                myapp-service.default.svc.cluster.local
              </li>
              <li>
                Types: ClusterIP (internal), NodePort (external with port),
                LoadBalancer (cloud LB)
              </li>
              <li>Load balances traffic across all pods</li>
            </ul>
            <p>
              <strong>Example flow:</strong> Deployment (3 replicas) ‚Üí 3 Pods
              running ‚Üí Service exposes all 3 pods as 1 endpoint
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you configure environment-specific settings in Kubernetes?
          </div>
          <div class="answer">
            <p>
              <strong>ConfigMap:</strong> Non-sensitive configuration
              (connection strings for logging, feature flags)
            </p>
            <ul>
              <li>Store: DATABASE_HOST=prod-db.azure.com</li>
              <li>Reference in pod: env.valueFrom.configMapKeyRef</li>
              <li>Easy to update without redeploying image</li>
            </ul>
            <p>
              <strong>Secrets:</strong> Sensitive data (passwords, API keys)
            </p>
            <ul>
              <li>Store: DATABASE_PASSWORD (base64 encoded)</li>
              <li>Reference in pod: env.valueFrom.secretKeyRef</li>
              <li>
                Not encrypted by default (use Azure Key Vault instead for
                production)
              </li>
            </ul>
            <p>
              <strong>Best Practice:</strong> Use Azure Key Vault + Secrets
              Store CSI driver (integrates K8s with Key Vault)
            </p>
            <p><strong>Example Deployment YAML:</strong></p>
            <ul>
              <li>env:</li>
              <li>&nbsp;&nbsp;- name: DB_HOST</li>
              <li>&nbsp;&nbsp;&nbsp;&nbsp;valueFrom:</li>
              <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configMapKeyRef:</li>
              <li>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: app-config
              </li>
              <li>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key:
                database_host
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: How does auto-scaling work in AKS?</div>
          <div class="answer">
            <p>
              <strong>Horizontal Pod Autoscaler (HPA):</strong> Auto-scale
              number of pods
            </p>
            <ul>
              <li>Monitor metric: CPU > 80% OR Memory > 70%</li>
              <li>Action: Automatically create new pods</li>
              <li>Min replicas: 2 (always running)</li>
              <li>Max replicas: 10 (cost control)</li>
              <li>
                Example: 3 pods running, CPU spikes ‚Üí auto-scale to 6 pods ‚Üí
                traffic distributed
              </li>
            </ul>
            <p>
              <strong>Vertical Pod Autoscaler (VPA):</strong> Adjust CPU/memory
              requests per pod
            </p>
            <ul>
              <li>
                If pod uses 100MB but requested 500MB, reduce request to 200MB
              </li>
              <li>Saves resources, reduces costs</li>
            </ul>
            <p>
              <strong>Cluster Autoscaler:</strong> Auto-scale number of nodes
              (VMs)
            </p>
            <ul>
              <li>
                All nodes full, new pod can't fit ‚Üí Add node automatically
              </li>
              <li>Node idle for 10 min ‚Üí Remove node (cost savings)</li>
            </ul>
            <p><strong>Setup HPA:</strong></p>
            <ul>
              <li>
                kubectl autoscale deployment myapp --min=2 --max=10
                --cpu-percent=80
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you do rolling updates and rollbacks in Kubernetes?
          </div>
          <div class="answer">
            <p><strong>Rolling Update (Zero-downtime deployment):</strong></p>
            <ul>
              <li>Old: 3 pods running v1.0</li>
              <li>Update strategy: maxUnavailable=1, maxSurge=1</li>
              <li>
                Step 1: Create 1 pod with v2.0 (total: 4 pods, v1=2, v2=1)
              </li>
              <li>Step 2: Delete 1 v1.0 pod (total: 3 pods, v1=1, v2=2)</li>
              <li>Step 3: Create v2.0 pod (total: 4 pods, v1=1, v2=3)</li>
              <li>Step 4: Delete last v1.0 pod (total: 3 pods, v2=3)</li>
              <li>Users see no downtime (traffic goes to working pods)</li>
            </ul>
            <p><strong>Rollback (if new version broken):</strong></p>
            <ul>
              <li>
                kubectl rollout undo deployment/myapp (back to previous version
                instantly)
              </li>
              <li>Kubernetes keeps last 3 revisions by default</li>
            </ul>
            <p>
              <strong>Monitor rollout:</strong> kubectl rollout status
              deployment/myapp
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you secure AKS and container images?
          </div>
          <div class="answer">
            <p><strong>Container Image Security:</strong></p>
            <ul>
              <li>
                <strong>Scan images for vulnerabilities:</strong> ACR scans
                images for CVEs (Common Vulnerabilities)
              </li>
              <li>
                <strong>Sign images:</strong> Image signing ensures image hasn't
                been tampered
              </li>
              <li>
                <strong>Use specific versions:</strong> Never use :latest in
                production (pin to v1.2.3)
              </li>
              <li>
                <strong>Minimal base images:</strong> Use distroless images
                (just app, no OS extras = smaller attack surface)
              </li>
            </ul>
            <p><strong>Pod Security:</strong></p>
            <ul>
              <li>
                <strong>Network Policies:</strong> Restrict pod-to-pod
                communication (whitelist approach)
              </li>
              <li>
                <strong>Pod Security Policies:</strong> Enforce security
                standards (no root user, read-only filesystem)
              </li>
              <li>
                <strong>Resource Limits:</strong> Set CPU/memory limits (prevent
                resource exhaustion attacks)
              </li>
              <li>
                <strong>Secrets encryption:</strong> Encrypt secrets at rest in
                etcd (not default, enable it)
              </li>
            </ul>
            <p><strong>Cluster Security:</strong></p>
            <ul>
              <li>
                <strong>RBAC:</strong> Role-based access control (who can
                deploy, who can read logs)
              </li>
              <li>
                <strong>Private cluster:</strong> No public IP for API server
                (only private access)
              </li>
              <li>
                <strong>Network Policies:</strong> NSG rules (firewall for pods)
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: When should you use AKS vs App Service?</div>
          <div class="answer">
            <p><strong>Use App Service for:</strong></p>
            <ul>
              <li>Single monolithic app (not microservices)</li>
              <li>Simple scaling needs (no complex orchestration)</li>
              <li>Startup/small team (less operational overhead)</li>
              <li>Less than 10 microservices</li>
              <li>Cost-sensitive (simpler infrastructure)</li>
            </ul>
            <p><strong>Use AKS for:</strong></p>
            <ul>
              <li>Microservices architecture (10+ services)</li>
              <li>
                Complex orchestration needs (rolling updates, auto-scaling,
                traffic splitting)
              </li>
              <li>Multi-cloud strategy (Kubernetes runs anywhere)</li>
              <li>High-traffic systems (need fine-grained control)</li>
              <li>Enterprise with DevOps team (manage infrastructure)</li>
            </ul>
            <p>
              <strong>Aviva Insurance example:</strong> 30+ microservices ‚Üí
              Perfect for AKS. App Service wouldn't scale efficiently.
            </p>
            <p>
              <strong>Small startup example:</strong> 1-2 APIs ‚Üí Use App Service
              (simpler).
            </p>
            <p>
              <strong>Rule of thumb:</strong> If you need auto-scaling, rolling
              updates, or have 5+ microservices ‚Üí AKS. Otherwise ‚Üí App Service.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >ü§î</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìå</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 12: Azure Service Bus & Async Messaging -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 12 ‚Äî Azure Service Bus (Async Messaging & Event-Driven)
          </div>
          <div class="section-description">
            Microservices communication layer
          </div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow and how to implement Azure Service Bus
            for microservices.
          </div>
          <div class="answer">
            <p>
              <strong>Architecture:</strong> Service A ‚Üí Message to Queue ‚Üí
              Service B processes asynchronously
            </p>
            <p><strong>Problem it solves:</strong></p>
            <ul>
              <li>
                Direct API calls: Service A ‚Üí Service B fails if B is down
                (tight coupling)
              </li>
              <li>High latency: Wait for response (synchronous = slow)</li>
              <li>Traffic spikes: One service overloads, crashes others</li>
            </ul>
            <p><strong>Service Bus Solution:</strong></p>
            <ul>
              <li>
                1. Service A sends message to Queue (fire and forget, no wait)
              </li>
              <li>2. Service A returns to user immediately (fast response)</li>
              <li>3. Service B picks up message when ready (asynchronous)</li>
              <li>4. If B is down, message waits in queue (resilient)</li>
              <li>
                5. If queue has 1000 messages, B processes them one by one (no
                crash)
              </li>
            </ul>
            <p>
              <strong>Real example (Aviva):</strong> User submits insurance
              claim ‚Üí Message to queue ‚Üí Claims processing service processes
              later ‚Üí Email sent when done
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">Q: What is Service Bus Queue vs Topic?</div>
          <div class="answer">
            <p>
              <strong>Queue:</strong> One-to-one messaging (single consumer)
            </p>
            <ul>
              <li>Message sent to queue</li>
              <li>One service picks it up (exclusive)</li>
              <li>Message processed and deleted</li>
              <li>Use for: Order processing, email sending, background jobs</li>
              <li>
                Example: Order service ‚Üí Queue ‚Üí Billing service (only billing
                needs it)
              </li>
            </ul>
            <p>
              <strong>Topic:</strong> One-to-many messaging (multiple
              subscribers)
            </p>
            <ul>
              <li>Message sent to topic</li>
              <li>Multiple services subscribe (get copy of same message)</li>
              <li>Each service can process independently</li>
              <li>Use for: Event broadcasting, notifications, data sync</li>
              <li>
                Example: User registered event ‚Üí Topic ‚Üí Email service, SMS
                service, Analytics service (all get notified)
              </li>
            </ul>
            <p><strong>Difference:</strong></p>
            <ul>
              <li>Queue = Exclusive processing (one handler)</li>
              <li>Topic = Broadcast (multiple handlers)</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì®</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement Service Bus Queue in .NET?
          </div>
          <div class="answer">
            <p><strong>Step 1 - Setup in Azure:</strong></p>
            <ul>
              <li>Create Service Bus namespace</li>
              <li>Create queue (e.g., "order-processing")</li>
              <li>Get connection string</li>
            </ul>
            <p>
              <strong>Step 2 - Install NuGet:</strong>
              Azure.Messaging.ServiceBus
            </p>
            <p><strong>Step 3 - Send message (Producer):</strong></p>
            <ul>
              <li>var client = new ServiceBusClient(connectionString);</li>
              <li>var sender = client.CreateSender("order-processing");</li>
              <li>var message = new ServiceBusMessage("Order: #12345");</li>
              <li>await sender.SendMessageAsync(message);</li>
            </ul>
            <p><strong>Step 4 - Receive message (Consumer):</strong></p>
            <ul>
              <li>var client = new ServiceBusClient(connectionString);</li>
              <li>var receiver = client.CreateReceiver("order-processing");</li>
              <li>var message = await receiver.ReceiveMessageAsync();</li>
              <li>// Process message</li>
              <li>
                await receiver.CompleteMessageAsync(message); // Mark as done
              </li>
            </ul>
            <p>
              <strong>Key point:</strong> Async and decoupled - producer doesn't
              wait for consumer.
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Message Dead Letter Queue and why use it?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Message can't be processed (consumer
              fails or validation error)
            </p>
            <ul>
              <li>Service tries to process order, fails (invalid data)</li>
              <li>Retry 3 times, still fails</li>
              <li>Message stuck in queue forever (poison message)</li>
            </ul>
            <p>
              <strong>Solution - Dead Letter Queue:</strong> Messages that fail
              move here automatically
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Message in main queue, processing fails</li>
              <li>2. Retry 3 times (configurable)</li>
              <li>3. Message moves to Dead Letter Queue (DLQ)</li>
              <li>4. Developer reviews DLQ, fixes issue, reprocesses</li>
            </ul>
            <p><strong>Why important:</strong></p>
            <ul>
              <li>Don't lose messages (they're recoverable)</li>
              <li>Prevent queue from being blocked</li>
              <li>Visibility into failed operations</li>
              <li>Helps debugging production issues</li>
            </ul>
            <p>
              <strong>Access DLQ:</strong> Service Bus namespace ‚Üí Queue ‚Üí Dead
              Letter Queue (separate queue)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ùå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì¶</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you handle message ordering and duplicate prevention?
          </div>
          <div class="answer">
            <p><strong>Message Ordering (Session-based):</strong></p>
            <ul>
              <li>
                Problem: Message 1, 2, 3 arrive out of order ‚Üí Processing breaks
              </li>
              <li>Solution: Use Sessions to guarantee order</li>
              <li>All messages with same SessionId processed in order</li>
              <li>
                Example: Order steps (Create ‚Üí Validate ‚Üí Process ‚Üí Ship) must
                happen in sequence
              </li>
            </ul>
            <p><strong>Duplicate Prevention (Idempotency):</strong></p>
            <ul>
              <li>
                Problem: Message processed twice (network retry) ‚Üí Charge twice
              </li>
              <li>Solution: Use MessageId (unique per message)</li>
              <li>
                Service Bus deduplicates automatically (within 1 minute window)
              </li>
              <li>Or: Check in consumer ‚Üí if already processed, skip</li>
            </ul>
            <p><strong>Best Practice - Idempotent Processing:</strong></p>
            <ul>
              <li>Message: "Charge customer $100"</li>
              <li>Check DB: Is there transaction with this MessageId?</li>
              <li>If yes: Already processed, return success</li>
              <li>If no: Process and store MessageId to prevent duplicates</li>
            </ul>
            <p>
              <strong>Real example:</strong> Payment processing must be
              idempotent (can retry safely without double-charging)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üî¢</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÅ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: When should you use Service Bus vs Event Grid vs Storage Queue?
          </div>
          <div class="answer">
            <p>
              <strong>Service Bus Queue:</strong> Complex processing, ordered
              messages, DLQ
            </p>
            <ul>
              <li>Use for: Order processing, payment, business workflows</li>
              <li>Features: Transactions, DLQ, Sessions, idempotence</li>
              <li>Cost: Higher</li>
            </ul>
            <p>
              <strong>Service Bus Topic:</strong> Multiple subscribers, event
              broadcasting
            </p>
            <ul>
              <li>
                Use for: User registered event ‚Üí send email + SMS + log
                analytics
              </li>
              <li>Features: Pub-sub, subscriptions, filtering</li>
              <li>Cost: Higher</li>
            </ul>
            <p><strong>Event Grid:</strong> Real-time event routing</p>
            <ul>
              <li>
                Use for: File uploaded ‚Üí trigger function, blob event ‚Üí notify
              </li>
              <li>Features: Event-driven, immediate, large volume</li>
              <li>Cost: Lower</li>
            </ul>
            <p><strong>Storage Queue:</strong> Simple, lightweight, cheap</p>
            <ul>
              <li>Use for: Background jobs, one-off processing</li>
              <li>Features: Basic, 49KB messages</li>
              <li>Cost: Very low</li>
            </ul>
            <p>
              <strong>For Aviva Insurance:</strong> Service Bus Topic (user
              events ‚Üí multiple services get notified)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >ü§î</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you ensure reliability and fault tolerance with Service
            Bus?
          </div>
          <div class="answer">
            <p><strong>Message Timeout & Retries:</strong></p>
            <ul>
              <li>
                Lock duration: How long before message released back to queue
              </li>
              <li>
                If consumer crashes, message returns to queue (other consumer
                picks it up)
              </li>
              <li>Max delivery count: After 3 failures, move to DLQ</li>
            </ul>
            <p><strong>Error Handling in Code:</strong></p>
            <ul>
              <li>try/catch processing</li>
              <li>Log errors to Application Insights</li>
              <li>Graceful failure (don't crash, just mark DLQ)</li>
            </ul>
            <p><strong>Monitoring:</strong></p>
            <ul>
              <li>Watch queue length (increasing = consumer slow/down)</li>
              <li>Watch DLQ messages (processing errors)</li>
              <li>Set alerts: DLQ count > 10 = alert team</li>
            </ul>
            <p><strong>High Availability:</strong></p>
            <ul>
              <li>Service Bus has 99.95% SLA (built-in redundancy)</li>
              <li>Premium tier: Active-passive replication across regions</li>
              <li>Messages persist until consumed or TTL expires</li>
            </ul>
            <p>
              <strong>Best Practice:</strong> Treat Service Bus as reliable, but
              always implement idempotent processing (assume retry).
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you scale Service Bus for 30+ microservices (like Aviva)?
          </div>
          <div class="answer">
            <p><strong>Architecture Pattern:</strong></p>
            <ul>
              <li>1. Central Service Bus namespace (shared infrastructure)</li>
              <li>2. Multiple queues/topics (one per event type)</li>
              <li>3. Multiple consumer instances (scale horizontally)</li>
            </ul>
            <p><strong>Scaling strategy:</strong></p>
            <ul>
              <li>
                <strong>Queue length metric:</strong> If queue has 1000+
                messages, add consumers
              </li>
              <li>
                <strong>Processing time:</strong> If taking > 30s per message,
                add consumers
              </li>
              <li>
                <strong>Throughput:</strong> Service Bus: 1000 msg/sec per
                partition key
              </li>
            </ul>
            <p><strong>For Aviva (30+ services example):</strong></p>
            <ul>
              <li>
                Topic: "PolicyEvents" ‚Üí 5 subscribers (MyPension, MyMotor,
                MyHome, Billing, Analytics)
              </li>
              <li>
                Queue: "ClaimProcessing" ‚Üí 10 consumer instances (parallel
                processing)
              </li>
              <li>
                Queue: "DocumentGeneration" ‚Üí 3 consumer instances (slower, less
                volume)
              </li>
            </ul>
            <p><strong>Monitoring for scaling:</strong></p>
            <ul>
              <li>Azure Metrics ‚Üí Queue depth, Active messages</li>
              <li>If queue depth increasing ‚Üí Add consumers</li>
              <li>
                If queue empty, consumers idle ‚Üí Reduce consumers (cost savings)
              </li>
            </ul>
            <p>
              <strong>Cost optimization:</strong> Premium tier with partitioning
              = handles millions of messages/day
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìà</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 13: Load Balancing & Traffic Management -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 13 ‚Äî Load Balancing & Traffic Management (High Traffic
            Handling)
          </div>
          <div class="section-description">
            Enterprise-scale traffic distribution
          </div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain how to handle 10,000+ requests/sec like Aviva Insurance.
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Single server can handle ~100 req/sec.
              10,000 req/sec = need 100 servers!
            </p>
            <p><strong>Solution - Multi-layer approach:</strong></p>
            <ul>
              <li>
                1. <strong>CDN (Content Delivery Network):</strong> Cache static
                files globally (images, CSS, JS)
              </li>
              <li>
                2. <strong>Application Gateway:</strong> Load balance traffic
                across App Service instances
              </li>
              <li>
                3. <strong>Multiple App Service instances:</strong> 10-50
                instances based on load
              </li>
              <li>
                4. <strong>Auto-scale:</strong> Add/remove instances based on
                CPU/memory
              </li>
              <li>
                5. <strong>Database read replicas:</strong> Spread read queries
                across replicas
              </li>
              <li>
                6. <strong>Redis cache:</strong> Cache expensive queries (reduce
                DB load)
              </li>
              <li>
                7. <strong>Service Bus:</strong> Async processing (don't block
                users)
              </li>
            </ul>
            <p>
              <strong>Real flow (Aviva):</strong> User ‚Üí CDN (static files) ‚Üí
              App Gateway (route) ‚Üí 20 App instances ‚Üí Cached data in Redis ‚Üí If
              needed, DB read replica
            </p>
            <p>
              <strong>Result:</strong> 10,000 req/sec distributed = each
              instance handles 100-200 req/sec (comfortable)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öñÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Application Gateway and how does it work?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Layer 7 load balancer (understands
              HTTP/HTTPS, routing)
            </p>
            <p><strong>What it does:</strong></p>
            <ul>
              <li>
                Receives user request (comes to Application Gateway first)
              </li>
              <li>Checks request path/hostname/headers</li>
              <li>
                Routes to appropriate backend pool (e.g., /api ‚Üí API servers,
                /static ‚Üí CDN)
              </li>
              <li>Balances load across instances in pool</li>
              <li>Returns response to user</li>
            </ul>
            <p><strong>Key features:</strong></p>
            <ul>
              <li>
                <strong>Path-based routing:</strong> /api/users ‚Üí App Service 1,
                /api/orders ‚Üí App Service 2
              </li>
              <li>
                <strong>Hostname-based:</strong> api.example.com ‚Üí API servers,
                web.example.com ‚Üí Web servers
              </li>
              <li>
                <strong>SSL/TLS termination:</strong> Handle HTTPS encryption
                (offload from backend)
              </li>
              <li>
                <strong>WAF (Web Application Firewall):</strong> Block SQL
                injection, XSS attacks
              </li>
              <li>
                <strong>Auto-scaling:</strong> Works with App Service auto-scale
              </li>
            </ul>
            <p><strong>Example setup (Aviva):</strong></p>
            <ul>
              <li>Backend Pool 1: Policy microservice (5 instances)</li>
              <li>Backend Pool 2: Claims microservice (3 instances)</li>
              <li>Routing: /api/policies/* ‚Üí Pool 1, /api/claims/* ‚Üí Pool 2</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öñÔ∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÄ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Traffic Manager and when to use it?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Global load balancer for routing
              across regions/endpoints
            </p>
            <p>
              <strong
                >What it does (different from Application Gateway):</strong
              >
            </p>
            <ul>
              <li>
                Application Gateway: Routes within region (fast, many endpoints)
              </li>
              <li>
                Traffic Manager: Routes across regions (global, few endpoints)
              </li>
            </ul>
            <p><strong>Example use cases:</strong></p>
            <ul>
              <li>
                <strong>Geographic routing:</strong> UK users ‚Üí UK datacenter,
                US users ‚Üí US datacenter (lower latency)
              </li>
              <li>
                <strong>Regional failover:</strong> Europe region down ‚Üí route
                to US (business continuity)
              </li>
              <li>
                <strong>Performance routing:</strong> Send to least latent
                endpoint
              </li>
              <li>
                <strong>Weighted routing:</strong> 80% traffic to new version,
                20% to old (canary)
              </li>
            </ul>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. User pings Traffic Manager (DNS level)</li>
              <li>2. Traffic Manager checks health of endpoints</li>
              <li>3. Returns IP of best endpoint (e.g., UK datacenter)</li>
              <li>4. User connects to that endpoint</li>
            </ul>
            <p>
              <strong>For Aviva:</strong> UK insurance company, customers
              worldwide
            </p>
            <ul>
              <li>UK/EU users ‚Üí Route to Europe region (low latency)</li>
              <li>If Europe down ‚Üí Route to US (disaster recovery)</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üì°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is session affinity and sticky sessions?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> User logs in on Server A (session stored
              in A's memory). Load balancer routes next request to Server B ‚Üí B
              doesn't have session ‚Üí User logged out!
            </p>
            <p>
              <strong>Solution - Session Affinity (Sticky Sessions):</strong>
              Same user always goes to same server
            </p>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. User hits Server A, gets cookie: "ServerID=A"</li>
              <li>2. Load balancer reads cookie, routes next request to A</li>
              <li>3. All requests from user go to A (session consistent)</li>
            </ul>
            <p><strong>Problem with sticky sessions:</strong></p>
            <ul>
              <li>Server A down ‚Üí User can't access (no failover)</li>
              <li>
                Uneven load: Some servers get more requests (if users sticky)
              </li>
              <li>Not cloud-native (defeats horizontal scaling purpose)</li>
            </ul>
            <p>
              <strong>Better solution - Distributed Session Storage:</strong>
            </p>
            <ul>
              <li>Store session in Redis (shared cache)</li>
              <li>User hits Server A ‚Üí Session stored in Redis</li>
              <li>User hits Server B ‚Üí Reads from Redis (session available)</li>
              <li>
                Server down ‚Üí User redirects to other server, still has session
              </li>
            </ul>
            <p>
              <strong>Best practice:</strong> Use Redis for sessions
              (cloud-native, scalable, fault-tolerant)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üç™</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üíæ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you handle database bottleneck with high traffic?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> 10,000 req/sec all hitting single
              database = overload
            </p>
            <p><strong>Solution layering:</strong></p>
            <ul>
              <li>
                <strong>Layer 1 - Cache (Redis):</strong> 80% of requests from
                cache (don't hit DB)
              </li>
              <li>
                <strong>Layer 2 - Read replicas:</strong> Spread read queries
                across replicas (writes to primary)
              </li>
              <li>
                <strong>Layer 3 - Partitioning:</strong> Split data: Users A-M
                on DB1, N-Z on DB2
              </li>
              <li>
                <strong>Layer 4 - Connection pooling:</strong> Reuse connections
                (don't create new per request)
              </li>
            </ul>
            <p><strong>Real example (Aviva):</strong></p>
            <ul>
              <li>10,000 req/sec incoming</li>
              <li>8,000 are "Get policy details" ‚Üí Redis has it (cached)</li>
              <li>1,500 are read-only queries ‚Üí Read replica handles it</li>
              <li>500 are writes ‚Üí Primary database handles it</li>
              <li>
                Result: Database only sees 500 req/sec instead of 10,000! ‚úÖ
              </li>
            </ul>
            <p><strong>Monitoring:</strong></p>
            <ul>
              <li>Watch DB CPU (should be < 70%)</li>
              <li>Cache hit ratio (should be > 90%)</li>
              <li>
                If cache hit drops, something's broken (need investigation)
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement circuit breaker pattern for resilience?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Service A calls Service B. B is slow. A
              waits 30 seconds. A runs out of threads. A crashes!
            </p>
            <p>
              <strong>Solution - Circuit Breaker:</strong> Stop calling failing
              service, fail fast
            </p>
            <p><strong>States:</strong></p>
            <ul>
              <li>
                <strong>Closed (normal):</strong> Requests going through
                normally
              </li>
              <li>
                <strong>Open (failing):</strong> Service failing, stop sending
                requests (fail immediately with error)
              </li>
              <li>
                <strong>Half-open (recovery):</strong> Try 1 request. If
                succeeds ‚Üí Closed. If fails ‚Üí Open again
              </li>
            </ul>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Service A calls Service B (normal)</li>
              <li>2. B fails 5 times in a row ‚Üí Circuit opens</li>
              <li>3. Service A immediately returns error (don't wait)</li>
              <li>4. After 30 seconds, try 1 request (half-open)</li>
              <li>5. If succeeds ‚Üí Close circuit, resume normal flow</li>
              <li>6. If fails ‚Üí Open again, wait another 30 seconds</li>
            </ul>
            <p>
              <strong>Benefits:</strong> Don't waste resources, fail fast, allow
              recovery time
            </p>
            <p>
              <strong>Tools:</strong> Polly library (C#) for circuit breaker
              implementation
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîå</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö°</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you design for multi-region high availability?
          </div>
          <div class="answer">
            <p><strong>Architecture (Aviva example):</strong></p>
            <ul>
              <li>
                <strong>Region 1 (Primary - Europe):</strong> All services,
                primary database
              </li>
              <li>
                <strong>Region 2 (Secondary - US):</strong> Replica services,
                read-only DB replica
              </li>
            </ul>
            <p><strong>Traffic routing:</strong></p>
            <ul>
              <li>Normal: All traffic ‚Üí Europe (primary)</li>
              <li>
                Europe down: Traffic Manager routes to US (automatic failover)
              </li>
            </ul>
            <p><strong>Database setup:</strong></p>
            <ul>
              <li>Europe DB (primary) ‚Üê Writes go here</li>
              <li>US DB (replica) ‚Üê Geo-replication, read-only</li>
              <li>
                If Europe DB down, can promote US to primary (manual, takes 5-10
                min)
              </li>
            </ul>
            <p><strong>Cost considerations:</strong></p>
            <ul>
              <li>
                Active-Active (both regions serve traffic): Expensive, highest
                uptime
              </li>
              <li>
                Active-Passive (backup region idle): Cheaper, slower failover
              </li>
              <li>For Aviva: Probably active-passive (failover acceptable)</li>
            </ul>
            <p><strong>RTO/RPO metrics:</strong></p>
            <ul>
              <li>
                RTO (Recovery Time Objective): How fast can you failover? (5-10
                min acceptable)
              </li>
              <li>
                RPO (Recovery Point Objective): How much data loss acceptable?
                (minutes to hours acceptable for most)
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üåç</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you prevent cascading failures in microservices?
          </div>
          <div class="answer">
            <p><strong>Cascading failure example (BAD):</strong></p>
            <ul>
              <li>Claims service down (database issue)</li>
              <li>Policy service tries to call Claims ‚Üí waits, gets timeout</li>
              <li>Policy service blocked (thread pool exhausted)</li>
              <li>Policy service crashes</li>
              <li>
                My Pension service calls Policy ‚Üí Policy down ‚Üí My Pension
                crashes
              </li>
              <li>Eventually: Entire system offline from one failure!</li>
            </ul>
            <p><strong>Prevention strategies:</strong></p>
            <ul>
              <li>
                <strong>1. Timeout:</strong> Don't wait forever, fail fast (5
                sec timeout max)
              </li>
              <li>
                <strong>2. Circuit Breaker:</strong> Stop calling failing
                service immediately
              </li>
              <li>
                <strong>3. Bulkhead:</strong> Isolate thread pools (Claims calls
                use separate threads than Policy calls)
              </li>
              <li>
                <strong>4. Retry with exponential backoff:</strong> Retry failed
                requests with increasing delays
              </li>
              <li>
                <strong>5. Service Bus (async):</strong> Don't depend on sync
                calls, use queues
              </li>
              <li>
                <strong>6. Health checks:</strong> Remove unhealthy instances
                from load balancer
              </li>
            </ul>
            <p>
              <strong>Best practice architecture:</strong> Use circuit breaker +
              timeout + async messaging = resilient system
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you test for high-traffic scenarios (load testing)?
          </div>
          <div class="answer">
            <p><strong>Load testing tools:</strong></p>
            <ul>
              <li>
                <strong>Apache JMeter:</strong> Simulate 10,000 users at once
              </li>
              <li><strong>Locust:</strong> Python-based, easy to script</li>
              <li>
                <strong>Azure Load Testing:</strong> Native Azure integration
              </li>
            </ul>
            <p><strong>What to test:</strong></p>
            <ul>
              <li>1. Baseline: Can you handle 1,000 req/sec?</li>
              <li>2. Spike: Can you handle 5,000 req/sec suddenly?</li>
              <li>3. Sustained: Can you handle 3,000 req/sec for 1 hour?</li>
              <li>
                4. Degradation: Can you handle 10,000 req/sec (maybe slow but
                not crash)?
              </li>
            </ul>
            <p><strong>Metrics to watch:</strong></p>
            <ul>
              <li>Response time (p99: 99% of requests under X ms)</li>
              <li>Error rate (should be < 0.1%)</li>
              <li>Throughput (requests/sec served)</li>
              <li>Resource utilization (CPU, Memory, DB connections)</li>
            </ul>
            <p>
              <strong>Real example:</strong> Aviva Insurance promotion ‚Üí
              Expected 5x traffic surge ‚Üí Load test at 50,000 req/sec ‚Üí Verify
              auto-scale works ‚Üí Monitor during event
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìä</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üß™</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 14: Azure AD & Authentication -->
    <div class="section-container">
      <div class="section-header" onclick="toggleSection(this)">
        <div>
          <div class="section-title">
            SECTION 14 ‚Äî Azure AD & Authentication (Identity & Authorization)
          </div>
          <div class="section-description">
            User identity and access management
          </div>
        </div>
        <span class="toggle-icon">‚ñº</span>
      </div>
      <div class="section-content">
        <div class="qa-item">
          <div class="question">
            Q: Explain the overall flow of implementing OAuth 2.0 authentication
            in .NET with Azure AD.
          </div>
          <div class="answer">
            <p><strong>Flow (User Login):</strong></p>
            <ul>
              <li>1. User clicks "Login with Azure AD" on website</li>
              <li>2. App redirects to Azure AD login page</li>
              <li>3. User enters credentials (username/password)</li>
              <li>4. Azure AD verifies identity, returns authorization code</li>
              <li>5. App backend exchanges code for access token (JWT)</li>
              <li>6. App stores token, user logged in</li>
              <li>7. For API calls, include token in Authorization header</li>
            </ul>
            <p><strong>Implementation in .NET:</strong></p>
            <ul>
              <li>1. Install NuGet: Microsoft.Identity.Web</li>
              <li>2. Register app in Azure Portal (get Client ID, Secret)</li>
              <li>
                3. In Startup.cs:
                services.AddMicrosoftIdentityWebAppAuthentication(Configuration)
              </li>
              <li>
                4. In Startup.cs: app.UseAuthentication(),
                app.UseAuthorization()
              </li>
              <li>5. Protect controllers: [Authorize]</li>
              <li>6. Access user: User.Identity.Name (who's logged in)</li>
            </ul>
            <p>
              <strong>Result:</strong> Centralized identity (Azure AD), secure
              token-based auth, no hardcoded passwords
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üìù</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Azure AD B2C and when do you use it?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Azure AD B2C = Identity platform for
              customer-facing apps (not just employees)
            </p>
            <p><strong>Use cases:</strong></p>
            <ul>
              <li>
                <strong>B2C (Business to Consumer):</strong> Your customers sign
                up, login
              </li>
              <li>
                Example: Aviva Insurance ‚Üí Customers register, login to policy
                portal
              </li>
              <li>Example: E-commerce ‚Üí Users create account, checkout</li>
            </ul>
            <p><strong>Features:</strong></p>
            <ul>
              <li>User sign-up (self-registration)</li>
              <li>
                User login (email/password, social logins like Google, Facebook)
              </li>
              <li>Profile management (users edit their info)</li>
              <li>MFA (multi-factor authentication - SMS, TOTP)</li>
              <li>Password reset</li>
              <li>Custom user attributes (phone number, address, etc.)</li>
            </ul>
            <p><strong>vs Azure AD:</strong></p>
            <ul>
              <li>
                <strong>Azure AD:</strong> Enterprise users (employees,
                contractors)
              </li>
              <li>
                <strong>Azure AD B2C:</strong> External users (customers,
                partners)
              </li>
            </ul>
            <p>
              <strong>Setup:</strong> Create B2C tenant ‚Üí Register app ‚Üí
              Configure user flows ‚Üí Redirect to B2C for login
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë•</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîì</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is JWT (JSON Web Token) and how do you validate it?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> JWT = Secure token containing user
              info, digitally signed
            </p>
            <p><strong>Structure:</strong> Header.Payload.Signature</p>
            <ul>
              <li><strong>Header:</strong> Algorithm info (e.g., "HS256")</li>
              <li>
                <strong>Payload:</strong> Claims - user info (e.g.,
                {"sub":"user123", "name":"Shubham"})
              </li>
              <li>
                <strong>Signature:</strong> HMAC(header + payload + secret) -
                proves token not tampered
              </li>
            </ul>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. Azure AD generates JWT with signature</li>
              <li>2. App receives JWT</li>
              <li>
                3. App validates: Decode payload, verify signature using public
                key
              </li>
              <li>
                4. If signature valid ‚Üí Token genuine, use claims (user info)
              </li>
              <li>5. If signature invalid ‚Üí Token forged, reject</li>
            </ul>
            <p><strong>JWT validation in .NET:</strong></p>
            <ul>
              <li>
                var principal = tokenHandler.ValidateToken(token,
                validationParameters);
              </li>
              <li>
                Check: Signature valid, token not expired, issuer is trusted
              </li>
            </ul>
            <p>
              <strong>Advantages:</strong> Stateless (no session DB), can verify
              on any server, info in token itself
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚úÖ</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement token refresh and handle token expiration?
          </div>
          <div class="answer">
            <p><strong>Token lifecycle:</strong></p>
            <ul>
              <li>Access Token: Valid 1 hour (short-lived, for security)</li>
              <li>
                Refresh Token: Valid 90 days (long-lived, for convenience)
              </li>
            </ul>
            <p><strong>Flow:</strong></p>
            <ul>
              <li>
                1. User logs in ‚Üí Gets access token (1 hour) + refresh token (90
                days)
              </li>
              <li>2. API call with access token ‚Üí Works (< 1 hour)</li>
              <li>3. After 1 hour, access token expires</li>
              <li>4. Next API call ‚Üí Token expired (401 Unauthorized)</li>
              <li>
                5. Frontend detects 401 ‚Üí Uses refresh token to get new access
                token
              </li>
              <li>6. Retry original API call with new token ‚Üí Works</li>
              <li>7. User experience: Seamless (happens in background)</li>
            </ul>
            <p><strong>Implementation:</strong></p>
            <ul>
              <li>
                Store refresh token securely (HttpOnly cookie, not localStorage)
              </li>
              <li>
                When token expires, call POST /api/auth/refresh with refresh
                token
              </li>
              <li>Get new access token, retry original request</li>
            </ul>
            <p>
              <strong>Refresh token rotation:</strong> Each refresh returns new
              refresh token (old one invalidated) ‚Üí Security improvement
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîÑ</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚è±Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is multi-tenant authentication and how do you implement it?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Single app serving multiple customers
              (tenants), each with separate data/users
            </p>
            <p><strong>Example (SaaS):</strong></p>
            <ul>
              <li>
                Aviva Insurance uses multi-tenant app for UK, EU, US customers
              </li>
              <li>User from UK signs in ‚Üí Can only see UK data</li>
              <li>User from EU signs in ‚Üí Can only see EU data</li>
              <li>Same app, separate data isolation</li>
            </ul>
            <p><strong>Authentication in multi-tenant:</strong></p>
            <ul>
              <li>
                1. Azure AD app registered at tenant level (can accept users
                from multiple Azure AD tenants)
              </li>
              <li>
                2. User from TenantA signs in ‚Üí JWT contains TenantId claim
              </li>
              <li>
                3. User from TenantB signs in ‚Üí JWT contains different TenantId
                claim
              </li>
              <li>
                4. API validates: Extract TenantId from JWT, filter data by
                TenantId
              </li>
            </ul>
            <p><strong>Authorization in multi-tenant:</strong></p>
            <ul>
              <li>User: belongs to TenantA</li>
              <li>
                Request to /api/policies ‚Üí Extract TenantId from JWT (TenantA)
              </li>
              <li>Query DB: WHERE TenantId = 'TenantA' (isolation)</li>
              <li>User can't see TenantB data (query doesn't return it)</li>
            </ul>
            <p>
              <strong>Critical pattern:</strong> ALWAYS filter by TenantId in
              queries (prevents data leak)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üè¢</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you implement role-based authorization (RBAC)?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Grant permissions based on user role
            </p>
            <p><strong>Example (Aviva):</strong></p>
            <ul>
              <li>
                <strong>Admin:</strong> Can view all policies, delete, modify
              </li>
              <li>
                <strong>Agent:</strong> Can view/modify customers they own,
                submit claims
              </li>
              <li>
                <strong>Customer:</strong> Can view own policies, submit claims
              </li>
            </ul>
            <p><strong>Implementation in .NET:</strong></p>
            <ul>
              <li>
                1. Azure AD assigns roles to users (Admin, Agent, Customer)
              </li>
              <li>
                2. JWT includes roles claim: {"roles": ["Admin", "Agent"]}
              </li>
              <li>
                3. In API: [Authorize(Roles = "Admin")] ‚Üí Only Admins can access
              </li>
              <li>4. Or: if (User.IsInRole("Agent")) { }</li>
            </ul>
            <p><strong>vs Claim-based:</strong></p>
            <ul>
              <li>Role-based: "Is user in Admin role?"</li>
              <li>Claim-based: "Does user have department=Finance claim?"</li>
              <li>Claim-based more flexible for complex permissions</li>
            </ul>
            <p><strong>Authorization in Azure AD:</strong></p>
            <ul>
              <li>
                Azure Portal ‚Üí App Registrations ‚Üí App Roles ‚Üí Define roles
                (Admin, Agent, Customer)
              </li>
              <li>Assign users to roles ‚Üí Roles included in JWT</li>
              <li>Code checks roles ‚Üí Access granted/denied</li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë§</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîë</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: What is Azure AD Conditional Access and when to use it?
          </div>
          <div class="answer">
            <p>
              <strong>Definition:</strong> Risk-based policies that require
              additional authentication
            </p>
            <p><strong>Example scenarios:</strong></p>
            <ul>
              <li>
                <strong>Risky sign-in:</strong> User from unusual location ‚Üí
                Require MFA
              </li>
              <li>
                <strong>Unmanaged device:</strong> Sign-in from unknown device ‚Üí
                Require MFA
              </li>
              <li>
                <strong>High-risk user:</strong> Account compromised ‚Üí Block
                access, require password reset
              </li>
              <li>
                <strong>Legacy auth:</strong> Old client not supporting MFA ‚Üí
                Block
              </li>
            </ul>
            <p><strong>How it works:</strong></p>
            <ul>
              <li>1. User tries to sign in</li>
              <li>2. Azure AD analyzes risk (location, device, time)</li>
              <li>
                3. If risk detected ‚Üí Apply policy (require MFA, block, etc.)
              </li>
              <li>4. User completes challenge ‚Üí Sign-in allowed</li>
            </ul>
            <p><strong>Setup:</strong></p>
            <ul>
              <li>
                Azure Portal ‚Üí Azure AD ‚Üí Conditional Access ‚Üí Create new policy
              </li>
              <li>Set condition: Sign-in risk = High</li>
              <li>Set action: Require MFA</li>
            </ul>
            <p>
              <strong>For Aviva Insurance:</strong> Financial data ‚Üí High
              security ‚Üí Use Conditional Access for risk-based auth
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚ö†Ô∏è</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you handle user provisioning and synchronization?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> HR system has users. Azure AD needs same
              users. Manually adding = error-prone
            </p>
            <p>
              <strong>Solution - User Provisioning:</strong> Auto-sync users
              from source to Azure AD
            </p>
            <p><strong>Scenarios:</strong></p>
            <ul>
              <li>
                <strong>Inbound:</strong> On-premises AD ‚Üí Azure AD (hybrid)
              </li>
              <li>
                <strong>Outbound:</strong> Azure AD ‚Üí SaaS apps (e.g.,
                Salesforce, Slack)
              </li>
              <li>
                <strong>Cross-tenant:</strong> Tenant A users ‚Üí Tenant B (B2B
                scenarios)
              </li>
            </ul>
            <p><strong>Implementation:</strong></p>
            <ul>
              <li>1. Setup Azure AD Connect (syncs on-premises to cloud)</li>
              <li>2. Or use SCIM protocol for app integration</li>
              <li>3. New employee added to HR ‚Üí Auto-synced to Azure AD</li>
              <li>4. Employee removed from HR ‚Üí Auto-removed from Azure AD</li>
            </ul>
            <p><strong>Benefits:</strong></p>
            <ul>
              <li>Single source of truth (HR system)</li>
              <li>
                Automatic access provisioning (Day 1 employees have accounts)
              </li>
              <li>Automatic deprovisioning (Exit day, access removed)</li>
              <li>Compliance (audit trail of who got what access)</li>
            </ul>
            <p>
              <strong>For Aviva:</strong> 10,000+ employees ‚Üí Auto-provisioning
              critical for onboarding/offboarding
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üë•</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >‚öôÔ∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you secure sensitive API endpoints and handle
            authorization?
          </div>
          <div class="answer">
            <p><strong>Security layering:</strong></p>
            <ul>
              <li>
                <strong>Layer 1 - Authentication:</strong> Who are you? (verify
                JWT token)
              </li>
              <li>
                <strong>Layer 2 - Authorization:</strong> What can you do?
                (check roles/permissions)
              </li>
              <li>
                <strong>Layer 3 - Tenant isolation:</strong> What data can you
                see? (filter by TenantId)
              </li>
              <li>
                <strong>Layer 4 - Rate limiting:</strong> How many times?
                (prevent abuse)
              </li>
              <li>
                <strong>Layer 5 - Auditing:</strong> Who did what? (log
                everything)
              </li>
            </ul>
            <p><strong>Example (Aviva - Get Customer Policy):</strong></p>
            <ul>
              <li>Request: GET /api/policies/12345</li>
              <li>Layer 1: Verify JWT token present and valid</li>
              <li>Layer 2: Check user has role "Agent" or "Admin"</li>
              <li>
                Layer 3: Query DB: WHERE TenantId = user.TenantId AND PolicyId =
                12345
              </li>
              <li>Layer 4: Check rate limit (max 1000 req/hour)</li>
              <li>
                Layer 5: Log: "User X accessed PolicyId 12345 at Y time from Z
                IP"
              </li>
            </ul>
            <p><strong>Implementation:</strong></p>
            <ul>
              <li>[Authorize(Roles = "Agent,Admin")] // Layer 2</li>
              <li>
                var policy = db.Policies.Where(p => p.TenantId == User.TenantId
                && p.Id == id); // Layer 3
              </li>
              <li>
                logger.LogInformation($"User accessed policy {id}"); // Layer 5
              </li>
            </ul>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîí</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üõ°Ô∏è</a
            >
          </div>
        </div>

        <div class="qa-item">
          <div class="question">
            Q: How do you handle service-to-service authentication (microservice
            calls)?
          </div>
          <div class="answer">
            <p>
              <strong>Problem:</strong> Service A calls Service B. How does B
              trust A?
            </p>
            <p><strong>Solution 1 - Managed Identity (Recommended):</strong></p>
            <ul>
              <li>Service A has Managed Identity</li>
              <li>Service A calls Service B using DefaultAzureCredential</li>
              <li>Azure issues token automatically (no password)</li>
              <li>
                Service B validates token, verifies it came from Service A
              </li>
              <li>Communication is secure, credentials not in code</li>
            </ul>
            <p><strong>Solution 2 - Service Principal with Secret:</strong></p>
            <ul>
              <li>Service A has Client ID + Secret</li>
              <li>
                Calls Azure AD: "Here's my Client ID & Secret, give me token"
              </li>
              <li>Gets access token, calls Service B with token</li>
              <li>Service B validates token</li>
              <li>Risk: Secret must be managed (rotation, security)</li>
            </ul>
            <p>
              <strong>Solution 3 - API Key (Simple but less secure):</strong>
            </p>
            <ul>
              <li>Service B issues API key to Service A</li>
              <li>Service A includes key in Authorization header</li>
              <li>Service B checks key validity</li>
              <li>Works but: Keys can be leaked, hard to rotate</li>
            </ul>
            <p>
              <strong>For Aviva (30+ microservices):</strong> Use Managed
              Identity (simplest, most secure, zero maintenance)
            </p>
          </div>
          <div class="image-icons">
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîó</a
            >
            <a
              href="https://via.placeholder.com/200"
              target="_blank"
              class="image-icon"
              >üîê</a
            >
          </div>
        </div>
      </div>
    </div>

    <script src="../change.js"></script>
  </body>
</html>
